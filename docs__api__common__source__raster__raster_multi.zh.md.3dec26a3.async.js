"use strict";(self.webpackChunk_antv_l7_site=self.webpackChunk_antv_l7_site||[]).push([[2777],{96197:function(e,a,t){t.r(a);t(35164),t(43801),t(6974),t(27068),t(12520);var n=t(7808),r=(t(19480),t(64700),t(12318),t(99500)),l=t(13273),s=t(92379),d=t(92114),c=t(651);a.default=function(){return(0,c.jsx)(r.dY,{children:(0,c.jsx)(s.Suspense,{fallback:(0,c.jsx)(l.Z,{}),children:(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{className:"markdown",children:[(0,c.jsxs)("h3",{id:"data",children:[(0,c.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#data",children:(0,c.jsx)("span",{className:"icon icon-link"})}),"data"]}),(0,c.jsx)("p",{children:d.texts[0].value}),(0,c.jsxs)("ul",{children:[(0,c.jsx)("li",{children:d.texts[1].value}),(0,c.jsx)("li",{children:d.texts[2].value})]}),(0,c.jsxs)("h4",{id:"å•æ–‡ä»¶å¤šæ³¢æ®µ",children:[(0,c.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#å•æ–‡ä»¶å¤šæ³¢æ®µ",children:(0,c.jsx)("span",{className:"icon icon-link"})}),"å•æ–‡ä»¶å¤šæ³¢æ®µ"]}),(0,c.jsx)("p",{children:d.texts[3].value}),(0,c.jsx)(n.Z,{lang:"ts",children:d.texts[4].value}),(0,c.jsxs)("h3",{id:"parser",children:[(0,c.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#parser",children:(0,c.jsx)("span",{className:"icon icon-link"})}),"parser"]}),(0,c.jsxs)("ul",{children:[(0,c.jsx)("li",{children:d.texts[5].value}),(0,c.jsx)("li",{children:d.texts[6].value})]}),(0,c.jsx)("p",{children:d.texts[7].value}),(0,c.jsx)(n.Z,{lang:"javascript",children:d.texts[8].value}),(0,c.jsx)("p",{children:d.texts[9].value}),(0,c.jsxs)("ul",{children:[(0,c.jsx)("li",{children:d.texts[10].value}),(0,c.jsx)("li",{children:d.texts[11].value})]}),(0,c.jsx)(n.Z,{lang:"js",children:d.texts[12].value}),(0,c.jsxs)("h4",{id:"parser-1",children:[(0,c.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#parser-1",children:(0,c.jsx)("span",{className:"icon icon-link"})}),"parser"]}),(0,c.jsx)("p",{children:(0,c.jsxs)("description",{children:[d.texts[13].value,(0,c.jsx)("em",{children:d.texts[14].value}),d.texts[15].value,(0,c.jsx)("strong",{children:d.texts[16].value}),d.texts[17].value]})}),(0,c.jsx)("p",{children:d.texts[18].value}),(0,c.jsx)(n.Z,{lang:"js",children:d.texts[19].value}),(0,c.jsxs)("h5",{id:"type",children:[(0,c.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#type",children:(0,c.jsx)("span",{className:"icon icon-link"})}),"type"]}),(0,c.jsx)("p",{children:(0,c.jsxs)("description",{children:[d.texts[20].value,(0,c.jsx)("em",{children:d.texts[21].value}),d.texts[22].value,(0,c.jsx)("strong",{children:d.texts[23].value}),d.texts[24].value]})}),(0,c.jsxs)("ul",{children:[(0,c.jsx)("li",{children:d.texts[25].value}),(0,c.jsx)("li",{children:d.texts[26].value})]}),(0,c.jsxs)("h5",{id:"format-irasterformat",children:[(0,c.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#format-irasterformat",children:(0,c.jsx)("span",{className:"icon icon-link"})}),"format: IRasterFormat"]}),(0,c.jsx)("p",{children:(0,c.jsxs)("description",{children:[d.texts[27].value,(0,c.jsx)("em",{children:d.texts[28].value}),d.texts[29].value,(0,c.jsx)("strong",{children:d.texts[30].value}),d.texts[31].value]})}),(0,c.jsxs)("p",{children:[(0,c.jsx)("code",{children:d.texts[32].value}),d.texts[33].value]}),(0,c.jsxs)("ul",{children:[(0,c.jsx)("li",{children:d.texts[34].value}),(0,c.jsxs)("li",{children:[d.texts[35].value,(0,c.jsx)("code",{children:d.texts[36].value}),d.texts[37].value,(0,c.jsx)("code",{children:d.texts[38].value}),d.texts[39].value]}),(0,c.jsxs)("li",{children:[(0,c.jsx)("code",{children:d.texts[40].value}),d.texts[41].value,(0,c.jsx)("code",{children:d.texts[42].value}),d.texts[43].value]})]}),(0,c.jsx)(n.Z,{lang:"js",children:d.texts[44].value}),(0,c.jsxs)("ol",{children:[(0,c.jsxs)("li",{children:[(0,c.jsx)("code",{children:d.texts[45].value}),d.texts[46].value,(0,c.jsx)("code",{children:d.texts[47].value}),d.texts[48].value,(0,c.jsx)("code",{children:d.texts[49].value}),d.texts[50].value,(0,c.jsx)("code",{children:d.texts[51].value}),d.texts[52].value]}),(0,c.jsxs)("li",{children:[(0,c.jsx)("code",{children:d.texts[53].value}),d.texts[54].value]})]}),(0,c.jsxs)("h5",{id:"operation-ioperation",children:[(0,c.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#operation-ioperation",children:(0,c.jsx)("span",{className:"icon icon-link"})}),"operation: IOperation"]}),(0,c.jsx)("p",{children:(0,c.jsxs)("description",{children:[d.texts[55].value,(0,c.jsx)("em",{children:d.texts[56].value}),d.texts[57].value,(0,c.jsx)("strong",{children:d.texts[58].value}),d.texts[59].value]})}),(0,c.jsxs)("p",{children:[d.texts[60].value,(0,c.jsx)("code",{children:d.texts[61].value}),d.texts[62].value]}),(0,c.jsxs)("p",{children:[d.texts[63].value,(0,c.jsx)("code",{children:d.texts[64].value}),d.texts[65].value]}),(0,c.jsx)("ol",{children:(0,c.jsxs)("li",{children:[(0,c.jsx)("code",{children:d.texts[66].value}),d.texts[67].value,(0,c.jsx)("code",{children:d.texts[68].value}),d.texts[69].value]})}),(0,c.jsx)(n.Z,{lang:"js",children:d.texts[70].value}),(0,c.jsx)("ol",{start:"2",children:(0,c.jsxs)("li",{children:[(0,c.jsx)("code",{children:d.texts[71].value}),d.texts[72].value]})}),(0,c.jsx)(n.Z,{lang:"js",children:d.texts[73].value}),(0,c.jsxs)("ol",{start:"3",children:[(0,c.jsx)("li",{children:(0,c.jsxs)("p",{children:[(0,c.jsx)("code",{children:d.texts[74].value}),d.texts[75].value,(0,c.jsx)("code",{children:d.texts[76].value}),d.texts[77].value,(0,c.jsx)("code",{children:d.texts[78].value}),d.texts[79].value]})}),(0,c.jsx)("li",{children:(0,c.jsxs)("p",{children:[(0,c.jsx)("code",{children:d.texts[80].value}),d.texts[81].value,(0,c.jsx)("code",{children:d.texts[82].value}),d.texts[83].value]})}),(0,c.jsx)("li",{children:(0,c.jsxs)("p",{children:[(0,c.jsx)("code",{children:d.texts[84].value}),d.texts[85].value]})})]}),(0,c.jsx)(n.Z,{lang:"js",children:d.texts[86].value}),(0,c.jsxs)("h5",{id:"extent",children:[(0,c.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#extent",children:(0,c.jsx)("span",{className:"icon icon-link"})}),"extent"]}),(0,c.jsx)("p",{children:(0,c.jsxs)("description",{children:[d.texts[87].value,(0,c.jsx)("em",{children:d.texts[88].value}),d.texts[89].value,(0,c.jsx)("strong",{children:d.texts[90].value}),d.texts[91].value]})}),(0,c.jsxs)("p",{children:[(0,c.jsx)("code",{children:d.texts[92].value}),d.texts[93].value]}),(0,c.jsxs)("h3",{id:"åŠ è½½å¤šé€šé“å½©è‰²å½±åƒ",children:[(0,c.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#åŠ è½½å¤šé€šé“å½©è‰²å½±åƒ",children:(0,c.jsx)("span",{className:"icon icon-link"})}),"åŠ è½½å¤šé€šé“ï¼ˆå½©è‰²ï¼‰å½±åƒ"]}),(0,c.jsx)("p",{children:d.texts[94].value}),(0,c.jsxs)("div",{children:[d.texts[95].value,(0,c.jsxs)("div",{style:{width:"60%",float:"left",margin:"10px"},children:[d.texts[96].value,(0,c.jsx)("img",{width:"80%",alt:"æ¡ˆä¾‹",src:"https://gw.alipayobjects.com/mdn/rms_816329/afts/img/A*jO7kTpuDiOQAAAAAAAAAAAAAARQnAQ"}),d.texts[97].value]})]}),(0,c.jsxs)("h4",{id:"data-ibandsdata--ibandsdata",children:[(0,c.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#data-ibandsdata--ibandsdata",children:(0,c.jsx)("span",{className:"icon icon-link"})}),"data: IBandsData[] | IBandsData"]}),(0,c.jsx)("p",{children:d.texts[98].value}),(0,c.jsxs)("h4",{id:"parser-2",children:[(0,c.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#parser-2",children:(0,c.jsx)("span",{className:"icon icon-link"})}),"parser"]}),(0,c.jsxs)("p",{children:[d.texts[99].value,(0,c.jsx)("code",{children:d.texts[100].value}),d.texts[101].value]}),(0,c.jsxs)("h5",{id:"type-1",children:[(0,c.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#type-1",children:(0,c.jsx)("span",{className:"icon icon-link"})}),"type"]}),(0,c.jsx)("p",{children:(0,c.jsxs)("description",{children:[d.texts[102].value,(0,c.jsx)("em",{children:d.texts[103].value}),d.texts[104].value,(0,c.jsx)("strong",{children:d.texts[105].value}),d.texts[106].value]})}),(0,c.jsx)("ul",{children:(0,c.jsxs)("li",{children:[d.texts[107].value,(0,c.jsx)("code",{children:d.texts[108].value}),d.texts[109].value]})}),(0,c.jsxs)("h5",{id:"format-irasterformat-1",children:[(0,c.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#format-irasterformat-1",children:(0,c.jsx)("span",{className:"icon icon-link"})}),"format: IRasterFormat"]}),(0,c.jsx)("p",{children:(0,c.jsxs)("description",{children:[d.texts[110].value,(0,c.jsx)("em",{children:d.texts[111].value}),d.texts[112].value,(0,c.jsx)("strong",{children:d.texts[113].value}),d.texts[114].value]})}),(0,c.jsxs)("p",{children:[d.texts[115].value,(0,c.jsx)("code",{children:d.texts[116].value}),d.texts[117].value]}),(0,c.jsxs)("h5",{id:"operation-ioperation-1",children:[(0,c.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#operation-ioperation-1",children:(0,c.jsx)("span",{className:"icon icon-link"})}),"operation: IOperation"]}),(0,c.jsx)("p",{children:(0,c.jsxs)("description",{children:[d.texts[118].value,(0,c.jsx)("em",{children:d.texts[119].value}),d.texts[120].value,(0,c.jsx)("strong",{children:d.texts[121].value}),d.texts[122].value]})}),(0,c.jsxs)("p",{children:[d.texts[123].value,(0,c.jsx)("code",{children:d.texts[124].value}),d.texts[125].value]}),(0,c.jsxs)("ol",{children:[(0,c.jsx)("li",{children:(0,c.jsx)("p",{children:d.texts[126].value})}),(0,c.jsx)("li",{children:(0,c.jsx)("p",{children:d.texts[127].value})})]}),(0,c.jsx)(n.Z,{lang:"js",children:d.texts[128].value})]})})})})}},53980:function(e,a,t){t.d(a,{G:function(){return o}});var n=t(97502),r=t(99500),l=(t(92379),"d8ttRdvsaeIwjsXPUrV3"),s="YWbojl5X0YI9jR8WQ6vF",d="nHrVcWv4dgQMNfb_O3dk",c="kLT5PvcX6twH_8KM1K4Y",i="HdNrro6Kmg0q9gTP4YLJ",x=t(651);var o=function(e){var a,t=e.isPlayground,o=e.exampleId,u=e.header,v=e.error;return(0,x.jsxs)("div",{className:l,children:[t?null:(0,x.jsx)("div",{className:s,children:u}),(0,x.jsxs)("div",{className:d,children:[(0,x.jsx)("div",{id:"playgroundScriptContainer_".concat(o),className:c}),v?(0,x.jsx)(n.ZP,{className:i,status:"error",title:(0,x.jsx)(r._H,{id:"æ¼”ç¤ºä»£ç æŠ¥é”™ï¼Œè¯·æ£€æŸ¥"}),subTitle:(0,x.jsx)("pre",{children:(a=v,(a.reason?a.reason:a.message?a.message:a).toString())})}):null]})]})}},19298:function(e,a,t){t.d(a,{S:function(){return _}});var n=t(28633),r=t.n(n),l=t(5572),s=t(49377),d=t(23622),c=t(99500),i=t(35510),x=t(92379),o=t(4667),u=t(53980),v=t(8131),p=t(95913),I=t(32686),h=t(29318),j=t(52486),f=t(65879),m=t.n(f),g=t(72916),b=t(54014),y={},w=t(651),A=function(e){var a=e.title,t=e.relativePath,n=e.githubUrl,r=(0,c.WF)().themeConfig.relativePath;(0,b.KI)(),new(m())(location.href);return(0,w.jsx)(p.Z,{ghost:!1,title:a,subTitle:(0,w.jsx)(I.Z,{title:(0,w.jsx)(c._H,{id:"åœ¨ GitHub ä¸Šç¼–è¾‘"}),children:(0,w.jsx)("a",{href:function(e){var a=e.githubUrl,t=e.relativePath;e.prefix;return"".concat(a,"/edit/master/").concat(r,"/examples/").concat(t)}({githubUrl:n,relativePath:t,prefix:"examples"}),target:"_blank",rel:"noopener noreferrer",className:y.editOnGtiHubButton,children:(0,w.jsx)(v.Z,{})})}),extra:(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(h.Z,{split:(0,w.jsx)(j.Z,{type:"vertical"})}),(0,w.jsx)(g.Z,{})]})})},k=t(24325),Z=t.n(k),D=t(72725);function N(e,a,t,n){var r=function(e){var a=new Map;return(0,D.Z)(e,(function(e){(0,D.Z)(e.examples,(function(t){(0,D.Z)(t.demos,(function(n){a.set("".concat(e.id,"-").concat(t.id,"-").concat(n.id),Z()(Z()({},n),{},{relativePath:"".concat(e.id,"/").concat(t.id,"/demo/").concat(n.filename),targetExample:t,targetTopic:e}))}))}))})),a}(e);return r.get("".concat(a,"-").concat(t,"-").concat(n))}var _=function(e){var a=e.exampleTopics,t=e.topic,n=e.example,v=e.demo,p=e.size,I=e.replaceId,h=e.isPlayground,j=e.notFound,f=void 0===j?(0,w.jsx)(l.T,{}):j,m=N(a,t,n,v);if(!m)return f;var g=m.title,b=m.source,y=m.relativePath,k=(0,c.WF)().themeConfig,Z=k.githubUrl,D=k.playground,_=(0,x.useState)(),P=r()(_,2),R=P[0],F=P[1],S=(0,x.useState)(!1),z=r()(S,2),B=(z[0],z[1]),M=((0,c.bU)(),(0,w.jsx)(A,{title:(0,d.ic)(g),relativePath:y,githubUrl:Z})),T="".concat(t,"_").concat(n,"_").concat(v);return(0,w.jsxs)(o.Z,{split:"vertical",defaultSize:"".concat(100*(1-p),"%"),minSize:100,children:[(0,w.jsx)(u.G,{exampleId:T,error:R,header:M,isPlayground:h}),(0,w.jsx)(s.p,{exampleId:T,source:b,relativePath:y,replaceId:I,onError:F,onFullscreen:B,onDestroy:i.Z,onReady:i.Z,playground:D})]})}},72916:function(e,a,t){var n=t(35957),r=(t(92379),t(48229)),l=t(651),s=function(){return(0,l.jsx)("img",{width:16,style:{margin:"5px"},src:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*iDSwRorar_QAAAAAAAAAAAAADmJ7AQ/original",alt:"react ç»„ä»¶åº“"})};a.Z=function(e){e.readingTime;return(0,l.jsxs)("div",{style:{float:"right",display:"flex",gap:"10px"},children:[(0,l.jsx)(r.Z,{href:"https://github.com/antvis/L7/issues/new","data-icon":"octicon-issue-opened","data-size":"large","data-show-count":"true","aria-label":"Issue antvis/l7 on GitHub",children:"åé¦ˆé—®é¢˜"}),(0,l.jsx)(r.Z,{href:"https://github.com/antvis/l7","data-icon":"octicon-star","data-size":"large","data-show-count":"true","aria-label":"Star antvis/l7 on GitHub",children:"å…³æ³¨é¡¹ç›®"}),(0,l.jsx)(n.Z,{icon:(0,l.jsx)(s,{}),style:{fontWeight:600,height:"30px",padding:"1px 6px"},target:"blank",href:"https://larkmap.antv.antgroup.com/components/lark-map",children:"React ç»„ä»¶åº“"})]})}},54014:function(e,a,t){function n(){for(var e=window.location.pathname.replace("/docs/","/").replace("/zh/","/").split("/"),a=[],t=e.length;t>0;t--){var n=e.slice(0,t);a.push(n.join("/"))}return a}function r(){var e=window.location.pathname;e=(e=e.replace("/zh/","/")).replace("/docs","");var a=window.location.pathname.startsWith("/en")?/(\/[A-z]*\/?\/[A-z]*)\/?/:/(\/[A-z]*)\/?/;return e.match(a)[1]}function l(e){var a=[],t=e[0];for(a.push(t.key);t.children;)t=t.children[0],a.push(t.key);return a[a.length-1]}function s(e,a,t){return e.includes("/docs/")||e.includes("/zh/")?e.replace("/docs/","/").replace("/zh/","/"):t.every((function(a){var t="".concat(a).toLowerCase();return![t,"".concat(t,"/")].includes(e.toLowerCase())}))?a:e}t.d(a,{Gd:function(){return s},KI:function(){return r},Xd:function(){return n},iX:function(){return l}})},92114:function(e,a,t){t.r(a),t.d(a,{texts:function(){return n}});const n=[{value:"å¤šæ³¢æ®µæ”¯æŒä¸¤ç§æ•°æ®æ–¹å¼ï¼Œæ …æ ¼æ•°æ®åæ ‡ç³»åªæ”¯æŒ 3857 æŠ•å½±çš„æ …æ ¼",paraId:0,tocIndex:0},{value:"å•æ–‡ä»¶å¤šæ³¢æ®µ",paraId:1,tocIndex:0},{value:"å¤šä¸ªå•æ³¢æ®µæ–‡ä»¶ç»„æˆå¤šæ³¢æ®µ",paraId:1,tocIndex:0},{value:"data ä¸ºæœªè§£æè¿‡ tiff arraybuffer æ•°æ®ï¼Œåœ¨ parser ä¸­ é€šè¿‡ format è¿›è¡Œæ•°æ®æ ‡å‡†åŒ–",paraId:2,tocIndex:1},{value:"  const url1 = 'https://gw.alipayobjects.com/zos/raptor/1667832825992/LC08_3857_clip_2.tif';\n  async function getTiffData(url: string) {\n  const response = await fetch(url);\n  const arrayBuffer = await response.arrayBuffer();\n  return arrayBuffer;\n  }\n}\nlayer.source(\n    [\n    {\n        data: tiffdata,\n        bands: [6, 5, 2].map((v) => v - 1),\n    },\n    ],\n    {\n    parser: {\n        type: 'rasterRgb',\n        format: async (data, bands) => {\n        const tiff = await GeoTIFF.fromArrayBuffer(data);\n        const image1 = await tiff.getImage();\n        const value = await image1.readRasters();\n        return bands.map((band) => {\n            return {\n            rasterData: value[band],\n            width: value.width,\n            height: value.height,\n            };\n        });\n        },\n        operation: {\n        type: 'rgb',\n        },\n        extent: [\n        130.39565357746957, 46.905730725742366, 130.73364094187343,\n        47.10217234153133,\n        ],\n    },\n    },\n)\n\n",paraId:3,tocIndex:1},{value:"type: raster",paraId:4,tocIndex:2},{value:"extent: æ …æ ¼çš„ç»çº¬åº¦èŒƒå›´ [minlng, minlat,maxLng, maxLat]",paraId:4,tocIndex:2},{value:"æ ¹æ®æ …æ ¼æ•°æ®çš„ç»çº¬åº¦èŒƒå›´ï¼Œå°†å…¶æ·»åŠ åˆ°åœ°å›¾ä¸Šã€‚",paraId:5,tocIndex:2},{value:"layer.source(rasterData, {\n  parser: {\n    type: 'raster',\n    extent: [121.168, 30.2828, 121.384, 30.4219],\n  },\n});\n",paraId:6,tocIndex:2},{value:"ç”¨æˆ·å¯ä»¥ç›´æ¥ä¼ å…¥æ …æ ¼æ–‡ä»¶çš„äºŒè¿›åˆ¶æ•°æ®ã€‚",paraId:7,tocIndex:2},{value:"æ”¯æŒä¼ å…¥å¤šæ–‡ä»¶çš„æ•°æ®ã€‚",paraId:8,tocIndex:2},{value:"æ”¯æŒæŒ‡å®šæŸä¸ªæ …æ ¼æ–‡ä»¶è¦æå–çš„æ³¢æ®µã€‚",paraId:8,tocIndex:2},{value:"interface IBandsData {\n  data: ArrayBuffer; // è¯·æ±‚åŠ è½½çš„æ …æ ¼æ–‡ä»¶çš„äºŒè¿›åˆ¶æ•°æ®\n  bands?: number[]; // æŒ‡å®šåŠ è½½è¯¥æ …æ ¼æ–‡ä»¶çš„æ³¢æ®µ\n}\n// é»˜è®¤åŠ è½½ 0 æ³¢æ®µçš„æ•°æ®\nconst source = new Source({ data: tiffData });\n// æŒ‡å®šåŠ è½½ tiffData 0 æ³¢æ®µçš„æ•°æ®\n// æŒ‡å®šåŠ è½½ tiffData2 0ã€1 æ³¢æ®µçš„æ•°æ®\nconst source2 = new Source([\n  { data: tiffData, bands: [0] },\n  { data: tiffData2, bands: [0, 1] },\n]);\n",paraId:9,tocIndex:2},{value:" ",paraId:10,tocIndex:3},{value:"IParser",paraId:10,tocIndex:3},{value:" ",paraId:10,tocIndex:3},{value:"å¿…é€‰",paraId:10,tocIndex:3},{value:" ",paraId:10,tocIndex:3},{value:"ä¸ºä½¿ç”¨æ …æ ¼æ•°æ®çš„ä½¿ç”¨æä¾›å¿…è¦çš„å‚æ•°å’Œæ–¹æ³•ã€‚",paraId:11,tocIndex:3},{value:"interface IParser {\n  type: string;\n  format: IRasterFormat;\n  operation: IOperation;\n  extent: number[];\n}\n",paraId:12,tocIndex:3},{value:" ",paraId:13,tocIndex:4},{value:"string",paraId:13,tocIndex:4},{value:" ",paraId:13,tocIndex:4},{value:"å¿…é€‰",paraId:13,tocIndex:4},{value:" ",paraId:13,tocIndex:4},{value:"è¾“å‡ºç»“æœä¸ºå•é€šé“æ•°æ®çš„æ—¶å€™å€¼ä¸º raster",paraId:14,tocIndex:4},{value:"è¾“å‡ºç»“æœä¸ºå¤šé€šé“å½©è‰²çš„æ—¶å€™å€¼ä¸º rasterRgb",paraId:14,tocIndex:4},{value:" ",paraId:15,tocIndex:5},{value:"IFormat",paraId:15,tocIndex:5},{value:" ",paraId:15,tocIndex:5},{value:"å¿…é€‰",paraId:15,tocIndex:5},{value:" ",paraId:15,tocIndex:5},{value:"format",paraId:16,tocIndex:5},{value:" æ–¹æ³•ç”¨äºä»ä¼ å…¥çš„æ …æ ¼æ–‡ä»¶äºŒè¿›åˆ¶æ•°æ®ä¸­æå–æ³¢æ®µæ•°æ®ã€‚",paraId:16,tocIndex:5},{value:"ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ …æ ¼æ–‡ä»¶äºŒè¿›åˆ¶æ•°æ®ã€‚",paraId:17,tocIndex:5},{value:"ç¬¬äºŒä¸ªå‚æ•°æ˜¯ç¬¬ä¸€ä¸ªå‚æ•°æŒ‡å®šçš„æ …æ ¼æ–‡ä»¶ä¸­åº”è¯¥æå–çš„æ³¢æ®µï¼Œæ–¹æ³•å‚æ•°æ˜¯æˆ‘ä»¬é€šè¿‡ ",paraId:17,tocIndex:5},{value:"source",paraId:17,tocIndex:5},{value:" å‚æ•°ä¼ é€’çš„ ",paraId:17,tocIndex:5},{value:"data",paraId:17,tocIndex:5},{value:" æ•°å€¼ã€‚",paraId:17,tocIndex:5},{value:"format",paraId:17,tocIndex:5},{value:" æ˜¯ä¸€ä¸ª ",paraId:17,tocIndex:5},{value:"async",paraId:17,tocIndex:5},{value:" æ–¹æ³•ã€‚",paraId:17,tocIndex:5},{value:"interface IRasterData {\n  rasterData: HTMLImageElement | Uint8Array | ImageBitmap | null | undefined;\n  width: number;\n  height: number;\n}\ntype IRasterFormat = (\n  data: ArrayBuffer,\n  bands: number[],\n) => Promise<IRasterData | IRasterData[]>;\n\nconst source = new Source(data, {\n  parser: {\n    format: async (data, bands) => {\n      ...\n      return {\n        rasterData: bandData,\n        width: 256;\n        height: 256;\n      }\n    }\n  }\n})\n",paraId:18,tocIndex:5},{value:"format",paraId:19,tocIndex:5},{value:" æ–¹æ³•çš„è¿”å›å€¼ä¸ºæ …æ ¼æ•°æ®ï¼ˆ",paraId:19,tocIndex:5},{value:"rasterData",paraId:19,tocIndex:5},{value:"ï¼‰ä»¥åŠè¡¨ç¤ºå¤§å°çš„ ",paraId:19,tocIndex:5},{value:"width",paraId:19,tocIndex:5},{value:"ã€",paraId:19,tocIndex:5},{value:"height",paraId:19,tocIndex:5},{value:" å‚æ•°ã€‚",paraId:19,tocIndex:5},{value:"format",paraId:19,tocIndex:5},{value:" æ–¹æ³•å¯ä»¥è¿”å›å¤šä»½æ•°æ®ï¼Œè¡¨ç¤ºä»å½“å‰æ …æ ¼æ–‡ä»¶ä¸­æå–å¤šä»½æ³¢æ®µçš„æ•°æ®ã€‚",paraId:19,tocIndex:5},{value:" ",paraId:20,tocIndex:6},{value:"IOperation",paraId:20,tocIndex:6},{value:" ",paraId:20,tocIndex:6},{value:"å¯é€‰",paraId:20,tocIndex:6},{value:" ",paraId:20,tocIndex:6},{value:"åœ¨åŠ è½½å¤šæ³¢æ®µæ•°æ®çš„æ—¶å€™æˆ‘ä»¬å¯ä»¥é€šè¿‡ ",paraId:21,tocIndex:6},{value:"operation",paraId:21,tocIndex:6},{value:" é…ç½®æ³¢æ®µæ•°æ®çš„è¿ç®—ã€‚",paraId:21,tocIndex:6},{value:"ğŸŒŸ æˆ‘ä»¬å¯ä»¥ä¸é…ç½® ",paraId:22,tocIndex:6},{value:"operation",paraId:22,tocIndex:6},{value:"ï¼Œæ­¤æ—¶é»˜è®¤ä½¿ç”¨ç¬¬ä¸€ä¸ªæ …æ ¼æ–‡ä»¶æå–çš„ç¬¬ä¸€ä¸ªæ³¢æ®µæ•°æ®",paraId:22,tocIndex:6},{value:"operation",paraId:23,tocIndex:6},{value:" å¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œ",paraId:23,tocIndex:6},{value:"allbands",paraId:23,tocIndex:6},{value:" æ˜¯æˆ‘ä»¬ä»æ‰€æœ‰æ …æ ¼æ–‡ä»¶ä¸­æå–çš„æ‰€æœ‰æ³¢æ®µæ•°æ®çš„é›†åˆã€‚",paraId:23,tocIndex:6},{value:"const parser = {\n  operation: (allBands) => {\n    // operation å¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œallbands æ˜¯æˆ‘ä»¬ä»æ‰€æœ‰æ …æ ¼æ–‡ä»¶ä¸­æå–çš„æ‰€æœ‰æ³¢æ®µæ•°æ®çš„é›†åˆï¼Œ\n    // åœ¨è®¾ç«‹ allbands å°±æ˜¯ [band0]\n    // å‡½æ•°çš„è¿”å›å€¼æ˜¯å•çº¯çš„æ³¢æ®µæ•°æ®ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬ç›´æ¥è¿”å›ç¬¬ä¸€ä¸ªæ³¢æ®µçš„æ•°æ®\n    return allBands[0].rasterData;\n  },\n};\n",paraId:24,tocIndex:6},{value:"operation",paraId:25,tocIndex:6},{value:" å¯ä»¥æ˜¯ä»¥æ•°ç»„å½¢å¼å­˜åœ¨çš„è®¡ç®—è¡¨è¾¾å¼.",paraId:25,tocIndex:6},{value:"// ä¸‹é¢è¡¨è¾¾å¼å¯ä»¥è½¬è¿°ä¸º band1 * 0.5ï¼Œè¡¨ç¤ºå°†æ³¢æ®µ1 çš„å€¼éƒ½ä¹˜ä¸Š 0.5 å¹¶è¿”å›\nconst parser = {\n  operation: ['*', ['band', 1], 0.5],\n};\n",paraId:26,tocIndex:6},{value:"operation",paraId:27,tocIndex:6},{value:" å¯ä»¥åµŒå¥—ä½¿ç”¨ï¼š",paraId:27,tocIndex:6},{value:"['+', ['*', ['band', 0], 0.2], ['band', 1]]]",paraId:27,tocIndex:6},{value:"ï¼Œè¿”å›ç»“æœä¸ºï¼š",paraId:27,tocIndex:6},{value:"band0 * 0.2 + band1",paraId:27,tocIndex:6},{value:"ã€‚",paraId:27,tocIndex:6},{value:"operation",paraId:28,tocIndex:6},{value:" å¯ä»¥ç›´æ¥æŒ‡å®šç»“æœï¼š",paraId:28,tocIndex:6},{value:"['band', 0]",paraId:28,tocIndex:6},{value:"ã€‚",paraId:28,tocIndex:6},{value:"operation",paraId:29,tocIndex:6},{value:" æ”¯æŒä»¥ä¸‹çš„æ•°å­¦è¿ç®—ã€‚",paraId:29,tocIndex:6},{value:"/** æ•°å­¦è¿ç®— æ ¹æ®è®¡ç®—è¡¨è¾¾å¼è¿›è¡Œæ•°å­¦è¿ç®—\n * * * Math operators:\n * `['*', value1, value2]` è¿”å›  `value1 * value2`\n * `['/', value1, value2]` è¿”å› `value1 / value2`\n * `['+', value1, value2]` è¿”å› `value1 + value2`\n * `['-', value1, value2]` è¿”å› `value2 - value1`\n * `['%', value1, value2]` è¿”å› `value1 % value2`\n * `['^', value1, value2]` è¿”å›  `value1 ^ value2`\n * `['abs', value1]`       è¿”å›  `Math.abs(value1)`\n * `['floor', value1]`     è¿”å›  `Math.floor(value1)`\n * `['round', value1]`     è¿”å›  `Math.round(value1)`\n * `['ceil', value1]`      è¿”å›  `Math.ceil(value1)`\n * `['sin', value1]`       è¿”å›  `Math.sin(value1)`\n * `['cos', value1]`       è¿”å›  `Math.cos(value1)`\n * `['atan', value1, value2]` è¿”å›  `n1===-1?Math.atan(n1): Math.atan2(n1, n2)`\n */\n",paraId:30,tocIndex:6},{value:" ",paraId:31,tocIndex:7},{value:"number[]",paraId:31,tocIndex:7},{value:" ",paraId:31,tocIndex:7},{value:"å¿…é€‰",paraId:31,tocIndex:7},{value:" ",paraId:31,tocIndex:7},{value:"extent",paraId:32,tocIndex:7},{value:" æè¿°çš„æ˜¯æ …æ ¼æ•°æ®è¦†ç›–çš„åœ°ç†åŒºé—´ï¼Œæ•°å€¼æŒ‡å®šçš„æ˜¯åŒºåŸŸçš„ç»çº¬åº¦åŒºé—´ï¼ˆå·¦ä¸‹è§’å’Œå³ä¸Šè§’ï¼‰ã€‚",paraId:32,tocIndex:7},{value:"æˆ‘ä»¬åœ¨ä½¿ç”¨å¤šæ³¢æ®µæ•°æ®çš„æ—¶å€™æ”¯æŒæ ¹æ®å¤šæ³¢æ®µæ•°æ®ç»˜åˆ¶å½©è‰²é¥æ„Ÿå½±åƒï¼Œå¦‚ä¸‹å›¾çš„å‡å½©è‰²å½±åƒã€‚",paraId:33,tocIndex:8},{value:"\n  ",paraId:34},{value:"\n    ",paraId:34},{value:"\n  ",paraId:34},{value:"ç»˜åˆ¶å¤šé€šé“å½±åƒçš„æ—¶å€™ï¼Œéœ€è¦åŠ è½½å¤šæ³¢æ®µæ•°æ®",paraId:35,tocIndex:9},{value:"ä½¿ç”¨æ …æ ¼æ•°æ®çš„ä½¿ç”¨æä¾›å¿…è¦çš„å‚æ•°å’Œæ–¹æ³•ï¼Œ å…·ä½“ä½¿ç”¨å’Œå¤šæ³¢æ®µæ …æ ¼çš„ ",paraId:36,tocIndex:10},{value:"parser",paraId:36,tocIndex:10},{value:" ä¿æŒä¸€è‡´ã€‚",paraId:36,tocIndex:10},{value:" ",paraId:37,tocIndex:11},{value:"string",paraId:37,tocIndex:11},{value:" ",paraId:37,tocIndex:11},{value:"å¿…é€‰",paraId:37,tocIndex:11},{value:" ",paraId:37,tocIndex:11},{value:"è¾“å‡ºç»“æœä¸ºå¤šé€šé“å½©è‰²çš„æ—¶å€™å€¼ä¸º ",paraId:38,tocIndex:11},{value:"rasterRgb",paraId:38,tocIndex:11},{value:"ã€‚",paraId:38,tocIndex:11},{value:" ",paraId:39,tocIndex:12},{value:"IFormat",paraId:39,tocIndex:12},{value:" ",paraId:39,tocIndex:12},{value:"å¿…é€‰",paraId:39,tocIndex:12},{value:" ",paraId:39,tocIndex:12},{value:"ç»˜åˆ¶å¤šé€šé“å½±åƒçš„æ—¶å€™ï¼Œä½¿ç”¨é€šç”¨çš„ ",paraId:40,tocIndex:12},{value:"format",paraId:40,tocIndex:12},{value:"å‡½æ•°ã€‚",paraId:40,tocIndex:12},{value:" ",paraId:41,tocIndex:13},{value:"IOperation",paraId:41,tocIndex:13},{value:" ",paraId:41,tocIndex:13},{value:"å¿…é€‰",paraId:41,tocIndex:13},{value:" ",paraId:41,tocIndex:13},{value:"ä¸ºäº†ç»˜åˆ¶å¤šé€šé“å½±åƒï¼Œæˆ‘ä»¬å¿…é¡»è¦æä¾› ",paraId:42,tocIndex:13},{value:"operation",paraId:42,tocIndex:13},{value:" é…ç½®æŒ‡å®šå¤šé€šé“æ•°æ®ã€‚",paraId:42,tocIndex:13},{value:"åœ¨æ¸²æŸ“å½©è‰²å¤šé€šé“æ …æ ¼çš„æ—¶å€™éœ€è¦é¢å¤–ä½¿ç”¨ parserï¼ŒåŒæ—¶å½©è‰²æ …æ ¼å›¾å±‚ä¸å†æ”¯æŒ domainã€rampColor ç­‰å‚æ•°ï¼Œæ¸²æŸ“çš„ç»“æœç›´æ¥ç”±æ³¢æ®µè®¡ç®—å‡ºçš„ rã€gã€b é€šé“çš„æ•°å€¼ç»“æœæ§åˆ¶ã€‚",paraId:43,tocIndex:13},{value:"å½©è‰²æ …æ ¼ä¸å†å…¼å®¹æ—§çš„æ•°æ®ä¼ å€¼æ–¹å¼ï¼ˆç›´æ¥ä¼ å…¥è§£æå®Œçš„æ …æ ¼æ•°æ®ã€‚",paraId:44,tocIndex:13},{value:"const source = new Source(data, { // å½©è‰²æ …æ ¼å’Œå•é€šé“æ …æ ¼ä½¿ç”¨ç›¸åŒçš„è§„åˆ™\n  parser: {\n    type: 'rasterRgb', // ä½¿ç”¨ç‹¬ç«‹çš„ type ç±»å‹\n    format: async (data, bands) {...}, // å½©è‰²æ …æ ¼å’Œå•é€šé“æ …æ ¼ format ä½¿ç”¨ç›¸åŒ\n    // operation ä¸ºå¯¹è±¡ï¼Œåˆ†åˆ«ä¸º rgb ä¸‰é€šé“æŒ‡å®šè®¡ç®—è¡¨è¾¾å¼\n    // operation å¿…é¡»è¦é…ç½®\n    operation: {\n      r: ['*', ['band', 1], 0.5],\n      g: ['band', 1],\n      b: undefined // ç¼ºçœé…ç½®è¡¨è¾¾å¼çš„é€šé“ä¼šé»˜è®¤å– 0 å·æ³¢æ®µçš„å€¼\n    }\n  }\n",paraId:45,tocIndex:13}]}}]);