{"version":3,"sources":["../src/Utils.js"],"names":["mapNativeEventNames","propFromEvent","withSetStateAllowed","assertDomAvailable","displayNameOfNode","nodeTypeFromType","isArrayLike","flatten","ensureKeyOrUndefined","elementToTree","findElement","propsWithKeysAndRef","getComponentStack","simulateError","getMaskedContext","getNodeFromRootFinder","wrapWithWrappingComponent","getWrappingComponentMountRenderer","fakeDynamicImport","createMountWrapper","createRenderWrapper","wrap","RootFinder","event","animation","pointerEvents","auxClick","nativeToReactEventMap","compositionend","compositionstart","compositionupdate","keydown","keyup","keypress","contextmenu","dblclick","doubleclick","dragend","dragenter","dragexist","dragleave","dragover","dragstart","mousedown","mousemove","mouseout","mouseover","mouseup","touchcancel","touchend","touchmove","touchstart","canplay","canplaythrough","durationchange","loadeddata","loadedmetadata","loadstart","ratechange","timeupdate","volumechange","beforeinput","mouseenter","mouseleave","transitionend","animationstart","animationiteration","animationend","pointerdown","pointermove","pointerup","pointercancel","gotpointercapture","lostpointercapture","pointerenter","pointerleave","pointerover","pointerout","auxclick","eventOptions","nativeEvent","toUpperCase","slice","fn","cleanup","global","document","result","undefined","feature","createElement","Error","node","type","displayName","name","prototype","isReactComponent","getIteratorFn","obj","iteratorFn","Symbol","iterator","isIterable","Array","isArray","arrs","reduce","flatArrs","item","concat","call","step","next","done","value","flatItem","key","el","recurse","arguments","length","props","ref","children","rendered","map","x","nodeType","dangerouslySetInnerHTML","error","instance","mapFind","arraylike","mapper","finder","found","isFound","find","predicate","hierarchy","getNodeType","getDisplayName","tuples","filter","i","arr","closestComponent","join","catchingInstance","rootNode","catchingType","componentDidCatch","getDerivedStateFromError","stateUpdate","setState","componentStack","contextTypes","unmaskedContext","Object","keys","isCustomComponent","tree","options","wrappingComponent","rootFinder","wrappingComponentProps","toTree","getMountWrapperInstance","getNode","render","context","callback","setWrappingComponentProps","moduleToImport","Promise","resolve"],"mappings":"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","file":"Utils.js","sourcesContent":["import functionName from 'function.prototype.name';\nimport fromEntries from 'object.fromentries';\nimport createMountWrapper from './createMountWrapper';\nimport createRenderWrapper from './createRenderWrapper';\nimport wrap from './wrapWithSimpleWrapper';\nimport RootFinder from './RootFinder';\n\nexport {\n  createMountWrapper,\n  createRenderWrapper,\n  wrap,\n  RootFinder,\n};\n\nexport function mapNativeEventNames(event, {\n  animation = false, // should be true for React 15+\n  pointerEvents = false, // should be true for React 16.4+\n  auxClick = false, // should be true for React 16.5+\n} = {}) {\n  const nativeToReactEventMap = {\n    compositionend: 'compositionEnd',\n    compositionstart: 'compositionStart',\n    compositionupdate: 'compositionUpdate',\n    keydown: 'keyDown',\n    keyup: 'keyUp',\n    keypress: 'keyPress',\n    contextmenu: 'contextMenu',\n    dblclick: 'doubleClick',\n    doubleclick: 'doubleClick', // kept for legacy. TODO: remove with next major.\n    dragend: 'dragEnd',\n    dragenter: 'dragEnter',\n    dragexist: 'dragExit',\n    dragleave: 'dragLeave',\n    dragover: 'dragOver',\n    dragstart: 'dragStart',\n    mousedown: 'mouseDown',\n    mousemove: 'mouseMove',\n    mouseout: 'mouseOut',\n    mouseover: 'mouseOver',\n    mouseup: 'mouseUp',\n    touchcancel: 'touchCancel',\n    touchend: 'touchEnd',\n    touchmove: 'touchMove',\n    touchstart: 'touchStart',\n    canplay: 'canPlay',\n    canplaythrough: 'canPlayThrough',\n    durationchange: 'durationChange',\n    loadeddata: 'loadedData',\n    loadedmetadata: 'loadedMetadata',\n    loadstart: 'loadStart',\n    ratechange: 'rateChange',\n    timeupdate: 'timeUpdate',\n    volumechange: 'volumeChange',\n    beforeinput: 'beforeInput',\n    mouseenter: 'mouseEnter',\n    mouseleave: 'mouseLeave',\n    transitionend: 'transitionEnd',\n    ...(animation && {\n      animationstart: 'animationStart',\n      animationiteration: 'animationIteration',\n      animationend: 'animationEnd',\n    }),\n    ...(pointerEvents && {\n      pointerdown: 'pointerDown',\n      pointermove: 'pointerMove',\n      pointerup: 'pointerUp',\n      pointercancel: 'pointerCancel',\n      gotpointercapture: 'gotPointerCapture',\n      lostpointercapture: 'lostPointerCapture',\n      pointerenter: 'pointerEnter',\n      pointerleave: 'pointerLeave',\n      pointerover: 'pointerOver',\n      pointerout: 'pointerOut',\n    }),\n    ...(auxClick && {\n      auxclick: 'auxClick',\n    }),\n  };\n\n  return nativeToReactEventMap[event] || event;\n}\n\n// 'click' => 'onClick'\n// 'mouseEnter' => 'onMouseEnter'\nexport function propFromEvent(event, eventOptions = {}) {\n  const nativeEvent = mapNativeEventNames(event, eventOptions);\n  return `on${nativeEvent[0].toUpperCase()}${nativeEvent.slice(1)}`;\n}\n\nexport function withSetStateAllowed(fn) {\n  // NOTE(lmr):\n  // this is currently here to circumvent a React bug where `setState()` is\n  // not allowed without global being defined.\n  let cleanup = false;\n  if (typeof global.document === 'undefined') {\n    cleanup = true;\n    global.document = {};\n  }\n  const result = fn();\n  if (cleanup) {\n    // This works around a bug in node/jest in that developers aren't able to\n    // delete things from global when running in a node vm.\n    global.document = undefined;\n    delete global.document;\n  }\n  return result;\n}\n\nexport function assertDomAvailable(feature) {\n  if (!global || !global.document || !global.document.createElement) {\n    throw new Error(`Enzyme's ${feature} expects a DOM environment to be loaded, but found none`);\n  }\n}\n\nexport function displayNameOfNode(node) {\n  if (!node) return null;\n\n  const { type } = node;\n\n  if (!type) return null;\n\n  return type.displayName || (typeof type === 'function' ? functionName(type) : type.name || type);\n}\n\nexport function nodeTypeFromType(type) {\n  if (typeof type === 'string') {\n    return 'host';\n  }\n  if (type && type.prototype && type.prototype.isReactComponent) {\n    return 'class';\n  }\n  return 'function';\n}\n\nfunction getIteratorFn(obj) {\n  const iteratorFn = obj && (\n    (typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol' && obj[Symbol.iterator])\n    || obj['@@iterator']\n  );\n\n  if (typeof iteratorFn === 'function') {\n    return iteratorFn;\n  }\n\n  return undefined;\n}\n\nfunction isIterable(obj) {\n  return !!getIteratorFn(obj);\n}\n\nexport function isArrayLike(obj) {\n  return Array.isArray(obj) || (typeof obj !== 'string' && isIterable(obj));\n}\n\nexport function flatten(arrs) {\n  // optimize for the most common case\n  if (Array.isArray(arrs)) {\n    return arrs.reduce(\n      (flatArrs, item) => flatArrs.concat(isArrayLike(item) ? flatten(item) : item),\n      [],\n    );\n  }\n\n  // fallback for arbitrary iterable children\n  let flatArrs = [];\n\n  const iteratorFn = getIteratorFn(arrs);\n  const iterator = iteratorFn.call(arrs);\n\n  let step = iterator.next();\n\n  while (!step.done) {\n    const item = step.value;\n    let flatItem;\n\n    if (isArrayLike(item)) {\n      flatItem = flatten(item);\n    } else {\n      flatItem = item;\n    }\n\n    flatArrs = flatArrs.concat(flatItem);\n\n    step = iterator.next();\n  }\n\n  return flatArrs;\n}\n\nexport function ensureKeyOrUndefined(key) {\n  return key || (key === '' ? '' : undefined);\n}\n\nexport function elementToTree(el, recurse = elementToTree) {\n  if (typeof recurse !== 'function' && arguments.length === 3) {\n    // special case for backwards compat for `.map(elementToTree)`\n    recurse = elementToTree; // eslint-disable-line no-param-reassign\n  }\n  if (el === null || typeof el !== 'object' || !('type' in el)) {\n    return el;\n  }\n  const {\n    type,\n    props,\n    key,\n    ref,\n  } = el;\n  const { children } = props;\n  let rendered = null;\n  if (isArrayLike(children)) {\n    rendered = flatten(children).map((x) => recurse(x));\n  } else if (typeof children !== 'undefined') {\n    rendered = recurse(children);\n  }\n\n  const nodeType = nodeTypeFromType(type);\n\n  if (nodeType === 'host' && props.dangerouslySetInnerHTML) {\n    if (props.children != null) {\n      const error = new Error('Can only set one of `children` or `props.dangerouslySetInnerHTML`.');\n      error.name = 'Invariant Violation';\n      throw error;\n    }\n  }\n\n  return {\n    nodeType,\n    type,\n    props,\n    key: ensureKeyOrUndefined(key),\n    ref,\n    instance: null,\n    rendered,\n  };\n}\n\nfunction mapFind(arraylike, mapper, finder) {\n  let found;\n  const isFound = Array.prototype.find.call(arraylike, (item) => {\n    found = mapper(item);\n    return finder(found);\n  });\n  return isFound ? found : undefined;\n}\n\nexport function findElement(el, predicate) {\n  if (el === null || typeof el !== 'object' || !('type' in el)) {\n    return undefined;\n  }\n  if (predicate(el)) {\n    return el;\n  }\n  const { rendered } = el;\n  if (isArrayLike(rendered)) {\n    return mapFind(rendered, (x) => findElement(x, predicate), (x) => typeof x !== 'undefined');\n  }\n  return findElement(rendered, predicate);\n}\n\nexport function propsWithKeysAndRef(node) {\n  if (node.ref !== null || node.key !== null) {\n    return {\n      ...node.props,\n      key: node.key,\n      ref: node.ref,\n    };\n  }\n  return node.props;\n}\n\nexport function getComponentStack(\n  hierarchy,\n  getNodeType = nodeTypeFromType,\n  getDisplayName = displayNameOfNode,\n) {\n  const tuples = hierarchy.filter((node) => node.type !== RootFinder).map((x) => [\n    getNodeType(x.type),\n    getDisplayName(x),\n  ]).concat([[\n    'class',\n    'WrapperComponent',\n  ]]);\n\n  return tuples.map(([, name], i, arr) => {\n    const [, closestComponent] = arr.slice(i + 1).find(([nodeType]) => nodeType !== 'host') || [];\n    return `\\n    in ${name}${closestComponent ? ` (created by ${closestComponent})` : ''}`;\n  }).join('');\n}\n\nexport function simulateError(\n  error,\n  catchingInstance,\n  rootNode, // TODO: remove `rootNode` next semver-major\n  hierarchy,\n  getNodeType = nodeTypeFromType,\n  getDisplayName = displayNameOfNode,\n  catchingType = {},\n) {\n  const instance = catchingInstance || {};\n\n  const { componentDidCatch } = instance;\n\n  const { getDerivedStateFromError } = catchingType;\n\n  if (!componentDidCatch && !getDerivedStateFromError) {\n    throw error;\n  }\n\n  if (getDerivedStateFromError) {\n    const stateUpdate = getDerivedStateFromError.call(catchingType, error);\n    instance.setState(stateUpdate);\n  }\n\n  if (componentDidCatch) {\n    const componentStack = getComponentStack(hierarchy, getNodeType, getDisplayName);\n    componentDidCatch.call(instance, error, { componentStack });\n  }\n}\n\nexport function getMaskedContext(contextTypes, unmaskedContext) {\n  if (!contextTypes || !unmaskedContext) {\n    return {};\n  }\n  return fromEntries(Object.keys(contextTypes).map((key) => [key, unmaskedContext[key]]));\n}\n\nexport function getNodeFromRootFinder(isCustomComponent, tree, options) {\n  if (!isCustomComponent(options.wrappingComponent)) {\n    return tree.rendered;\n  }\n  const rootFinder = findElement(tree, (node) => node.type === RootFinder);\n  if (!rootFinder) {\n    throw new Error('`wrappingComponent` must render its children!');\n  }\n  return rootFinder.rendered;\n}\n\nexport function wrapWithWrappingComponent(createElement, node, options) {\n  const { wrappingComponent, wrappingComponentProps } = options;\n  if (!wrappingComponent) {\n    return node;\n  }\n  return createElement(\n    wrappingComponent,\n    wrappingComponentProps,\n    createElement(RootFinder, null, node),\n  );\n}\n\nexport function getWrappingComponentMountRenderer({ toTree, getMountWrapperInstance }) {\n  return {\n    getNode() {\n      const instance = getMountWrapperInstance();\n      return instance ? toTree(instance).rendered : null;\n    },\n    render(el, context, callback) {\n      const instance = getMountWrapperInstance();\n      if (!instance) {\n        throw new Error('The wrapping component may not be updated if the root is unmounted.');\n      }\n      return instance.setWrappingComponentProps(el.props, callback);\n    },\n  };\n}\n\nexport function fakeDynamicImport(moduleToImport) {\n  return Promise.resolve({ default: moduleToImport });\n}\n"]}