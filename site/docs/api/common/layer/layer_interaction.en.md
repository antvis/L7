## Layer interaction methods

### active(activeOption | boolean)

- Turn on or off mousehover element highlighting effect
- `activeOption`
  - `color`: Highlight color
  - `mix`: Optional parameter, the default is 0, which means the highlight color is the specified solid color. The maximum valid value is 1, which means the highlight color is all the background color.

```javascript
activeOption: {
  color: '#f00';
  mix: 0.6;
}
```

```javascript
// Turn on Active and use the default highlight color
layer.active(true);

// Turn on Active custom highlight color

layer.active({
  color: 'red',
  mix: 0.6,
});

//Turn off the highlight effect
layer.active(false);
```

### setActive(featured: in)

Set hover highlight of specified element based on element ID

ðŸŒŸ Specifying element highlighting is not equal to layer highlighting. A layer contains multiple elements. Generally, a layer has as many elements as there are single pieces of data in the data array passed to source.

```javascript
layer.setActive(featureId);
```

### select(selectOption | boolean)

- Turn on or off mouseclick element selection highlighting effect
- selectOption
  - `color`: Select highlight color
  - `mix`: Optional parameter, the default is 0, which means that the selected highlight color is the specified solid color. The maximum effective value is 1, which means that all the selected highlight colors are background colors.

```javascript
selectOption: {
  color: '#f00';
  mix: 0.6;
}
```

```javascript
// Turn on Active and use the default highlight color
layer.select(true);

// Turn on Active custom highlight color

layer.select({
  color: 'red',
  mix: 0.6,
});

//Turn off the highlight effect
layer.select(false);
```

### setSelect(featureId: int)

Set the specified element according to the element ID click to select and highlight

ðŸŒŸ Specifying element highlighting is not equal to layer highlighting. A layer contains multiple elements. Generally, a layer has as many elements as there are single pieces of data in the data array passed to source.

```javascript
layer.setSelect(featureId);
```

### setAutoFit(autoFit: boolean)

Allows users to actively set the autoFit parameters of layers\
ðŸŒŸ After setting this method, it will take effect when the layer is updated, such as triggered after setData

```javascript
// Instructions
layer.setAutoFit(true);
// Internal implementation
public setAutoFit(autoFit: boolean): ILayer {
    this.updateLayerConfig({
      autoFit,
    });
    return this;
  }
```

### getScale(attr: string)

Supports separately obtaining the value of a graphic after scale calculation to meet the user's need to obtain certain feature values â€‹â€‹of the layer.

- attribute value of attr scale

```javascript
const data = [
  { lng: 120, lat: 30, name: 'n1' },
  { lng: 120, lat: 30, name: 'n2' },
];
const layer = new PointLayer()
  .source(data, {
    parser: {
      x: 'lng',
      y: 'lat',
      type: 'json',
    },
  })
  .shape('circle')
  .color('name', ['#f00', '#ff0'])
  .size('name', [20, 40]);

scene.addLayer(layer);

// Draw two points on the scene at this time
// A point with a color of yellow and a size of 40, corresponding to name n1
// A point with a color of red and a size of 20, corresponding to name n2

const colorScale = layer.getScale('color'); // Get the scale generated by the color method
const color1 = colorScale('n1'); // '#ff0'
const color1 = colorScale('n2'); // '#f00'

const sizeScale = layer.getScale('size'); // Get the scale generated by the size method
const size1 = sizeScale('n1'); // 40
const size2 = sizeScale('n2'); // 20
```

### getLegendItems(type: string)

Get legend configuration

- type legend type
- index optional default

```javascript
layer.getLegendItems('color');

layer.getLegendItems('size');
```

### getLegend(type: string)

Get the legend getLegendItems enhanced version returns more information

return value

- type legend type
- field mapping field
- items legend items

```javascript
layer.getLegend('color');

layer.getLegend('size');
```
