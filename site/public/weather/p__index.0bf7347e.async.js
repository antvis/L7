"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[866],{64591:function(xa,et,a){a.r(et),a.d(et,{default:function(){return ga}});var Dt={version:"v0.1",metadata:{name:"\u9ED8\u8BA4\u914D\u7F6E\u5E94\u7528",creatTime:"2023-12-11 15:40:56"},datasets:[],spec:{map:{basemap:"Gaode",config:{zoom:5,center:[112.46641,40.91574],pitch:0,bearing:0,rotation:0,style:"normal",token:"f0230f884bbd54e2913c890cdf45aa7e",viewMode:"2D",dragRotate:!0,pitchWithRotate:!0,WebGLParams:{preserveDrawingBuffer:!0}}},layers:[],widgets:[{id:"BaseLayout_c0ca0c86-01ea-4476-988e-d3ba43d67ba0",type:"BaseLayout",metadata:{name:"\u57FA\u7840\u5E03\u5C40"},properties:{showSidePanel:!1}},{id:"ZoomControl_4b3f291a-cd06-4179-9c3a-deb5dfaa9637",type:"ZoomControl",metadata:{name:"\u7F29\u653E\u5668"},properties:{position:"bottomright",showZoom:!0},container:{id:"BaseLayout_c0ca0c86-01ea-4476-988e-d3ba43d67ba0",slot:"controls"}},{id:"ChoosePlace_afc9fe1a-36eb-4cef-9058-87bfa211dfad",type:"ChoosePlace",metadata:{name:"\u4E24\u5730\u70B9\u9009\u62E9"},properties:{position:"topleft"},container:{id:"BaseLayout_c0ca0c86-01ea-4476-988e-d3ba43d67ba0",slot:"controls"}}]}},kt=Dt,Qt=a(82242),b=a.n(Qt),nt=a(5022),it={algorithm:nt.Z.darkAlgorithm,token:{colorTextBase:"rgba(255,255,255,0.85)",colorBgBase:"#0f0f13",borderRadius:6}},St=b()(b()({},it),{},{token:b()(b()({},it.token),{},{colorBgBase:"#1d1e25"})}),zt=a(36686),At=a(71720),wt=a(34591),Tt=a(36632),ja=a(46789),Pt=a(7557),N=a.n(Pt),Ct=a(41498),B=a.n(Ct),Lt=a(79800),R=a.n(Lt),Da=a(85573),Rt=a(39647),q=a.n(Rt),Ot=a(37205),I=a.n(Ot),Et=a(9498),_=a.n(Et),Zt=a(79382),Nt=a(2505),Mt=["\u672A\u77E5","\u7F13\u884C","\u62E5\u5835","\u4E25\u91CD\u62E5\u5835"],V=_()(new Date().toLocaleDateString()).format("YYYY-MM-DD"),ka="98d10f05a2da96697313a2ce35ebf1a2",Qa="https://mdn.alipayobjects.com/huamei_5vkpxz/afts/img/A*7EZSSYpUeWwAAAAAAAAAAAAADpatAQ/original",rt="https://mdn.alipayobjects.com/huamei_5vkpxz/afts/img/A*lXMHRblTVFQAAAAAAAAAAAAADpatAQ/original",ot="https://mdn.alipayobjects.com/huamei_5vkpxz/afts/img/A*yeZ9R7WShEEAAAAAAAAAAAAADpatAQ/original",Ft={\u6674:"https://mdn.alipayobjects.com/huamei_5vkpxz/afts/img/A*hWmEQLDwGJkAAAAAAAAAAAAADpatAQ/original",\u5C11\u4E91:"https://mdn.alipayobjects.com/huamei_5vkpxz/afts/img/A*G_fUSY6oaw8AAAAAAAAAAAAADpatAQ/original",\u6674\u95F4\u591A\u4E91:"https://mdn.alipayobjects.com/huamei_5vkpxz/afts/img/A*nkHNTJ5h_ykAAAAAAAAAAAAADpatAQ/original",\u591A\u4E91:"https://mdn.alipayobjects.com/huamei_5vkpxz/afts/img/A*SB96R7Br7gEAAAAAAAAAAAAADpatAQ/original",\u9634:"https://mdn.alipayobjects.com/huamei_5vkpxz/afts/img/A*G_fUSY6oaw8AAAAAAAAAAAAADpatAQ/original",\u6709\u98CE:"https://mdn.alipayobjects.com/huamei_5vkpxz/afts/img/A*l-QpTLXOV1UAAAAAAAAAAAAADpatAQ/original",\u5E73\u9759:"https://mdn.alipayobjects.com/huamei_5vkpxz/afts/img/A*l-QpTLXOV1UAAAAAAAAAAAAADpatAQ/original",\u5FAE\u98CE:"https://mdn.alipayobjects.com/huamei_5vkpxz/afts/img/A*l-QpTLXOV1UAAAAAAAAAAAAADpatAQ/original",\u548C\u98CE:"https://mdn.alipayobjects.com/huamei_5vkpxz/afts/img/A*l-QpTLXOV1UAAAAAAAAAAAAADpatAQ/original",\u6E05\u98CE:"https://mdn.alipayobjects.com/huamei_5vkpxz/afts/img/A*l-QpTLXOV1UAAAAAAAAAAAAADpatAQ/original","\u5F3A\u98CE/\u52B2\u98CE":"https://mdn.alipayobjects.com/huamei_5vkpxz/afts/img/A*l-QpTLXOV1UAAAAAAAAAAAAADpatAQ/original",\u75BE\u98CE:"https://mdn.alipayobjects.com/huamei_5vkpxz/afts/img/A*l-QpTLXOV1UAAAAAAAAAAAAADpatAQ/original",\u5927\u98CE:"https://mdn.alipayobjects.com/huamei_5vkpxz/afts/img/A*l-QpTLXOV1UAAAAAAAAAAAAADpatAQ/original",\u70C8\u98CE:"https://mdn.alipayobjects.com/huamei_5vkpxz/afts/img/A*l-QpTLXOV1UAAAAAAAAAAAAADpatAQ/original",\u98CE\u66B4:"https://mdn.alipayobjects.com/huamei_5vkpxz/afts/img/A*l-QpTLXOV1UAAAAAAAAAAAAADpatAQ/original",\u72C2\u7206\u98CE:"https://mdn.alipayobjects.com/huamei_5vkpxz/afts/img/A*l-QpTLXOV1UAAAAAAAAAAAAADpatAQ/original",\u98D3\u98CE:"https://mdn.alipayobjects.com/huamei_5vkpxz/afts/img/A*l-QpTLXOV1UAAAAAAAAAAAAADpatAQ/original",\u70ED\u5E26\u98CE\u66B4:"https://mdn.alipayobjects.com/huamei_5vkpxz/afts/img/A*l-QpTLXOV1UAAAAAAAAAAAAADpatAQ/original",\u973E:"https://mdn.alipayobjects.com/huamei_5vkpxz/afts/img/A*-VVyTILygJkAAAAAAAAAAAAADpatAQ/original",\u4E2D\u5EA6\u973E:"https://mdn.alipayobjects.com/huamei_5vkpxz/afts/img/A*NdCQQJH9_m8AAAAAAAAAAAAADpatAQ/original",\u91CD\u5EA6\u973E:"https://mdn.alipayobjects.com/huamei_5vkpxz/afts/img/A*PqDLQrtkRfMAAAAAAAAAAAAADpatAQ/original",\u4E25\u91CD\u973E:"https://mdn.alipayobjects.com/huamei_5vkpxz/afts/img/A*PqDLQrtkRfMAAAAAAAAAAAAADpatAQ/original",\u9635\u96E8:"https://mdn.alipayobjects.com/huamei_5vkpxz/afts/img/A*yHmiR6A9twQAAAAAAAAAAAAADpatAQ/original",\u96F7\u9635\u96E8:"https://mdn.alipayobjects.com/huamei_5vkpxz/afts/img/A*3ReZSLkqr_kAAAAAAAAAAAAADpatAQ/original",\u96F7\u9635\u96E8\u5E76\u4F34\u6709\u51B0\u96F9:"",\u5C0F\u96E8:"https://mdn.alipayobjects.com/huamei_5vkpxz/afts/img/A*yHmiR6A9twQAAAAAAAAAAAAADpatAQ/original",\u4E2D\u96E8:"https://mdn.alipayobjects.com/huamei_5vkpxz/afts/img/A*yHmiR6A9twQAAAAAAAAAAAAADpatAQ/original",\u5927\u96E8:"https://mdn.alipayobjects.com/huamei_5vkpxz/afts/img/A*yHmiR6A9twQAAAAAAAAAAAAADpatAQ/original",\u66B4\u96E8:"https://mdn.alipayobjects.com/huamei_5vkpxz/afts/img/A*D_U5TK-m4X8AAAAAAAAAAAAADpatAQ/original",\u5927\u66B4\u96E8:"https://mdn.alipayobjects.com/huamei_5vkpxz/afts/img/A*D_U5TK-m4X8AAAAAAAAAAAAADpatAQ/original",\u7279\u5927\u66B4\u96E8:"https://mdn.alipayobjects.com/huamei_5vkpxz/afts/img/A*D_U5TK-m4X8AAAAAAAAAAAAADpatAQ/original",\u5F3A\u9635\u96E8:"https://mdn.alipayobjects.com/huamei_5vkpxz/afts/img/A*yHmiR6A9twQAAAAAAAAAAAAADpatAQ/original",\u5F3A\u96F7\u9635\u96E8:"https://mdn.alipayobjects.com/huamei_5vkpxz/afts/img/A*3ReZSLkqr_kAAAAAAAAAAAAADpatAQ/original",\u6781\u7AEF\u964D\u96E8:"https://mdn.alipayobjects.com/huamei_5vkpxz/afts/img/A*3qWESpEucFMAAAAAAAAAAAAADpatAQ/original","\u6BDB\u6BDB\u96E8/\u7EC6\u96E8":"https://mdn.alipayobjects.com/huamei_5vkpxz/afts/img/A*yHmiR6A9twQAAAAAAAAAAAAADpatAQ/original",\u96E8:"https://mdn.alipayobjects.com/huamei_5vkpxz/afts/img/A*yHmiR6A9twQAAAAAAAAAAAAADpatAQ/original","\u5C0F\u96E8-\u4E2D\u96E8":"https://mdn.alipayobjects.com/huamei_5vkpxz/afts/img/A*yHmiR6A9twQAAAAAAAAAAAAADpatAQ/original","\u4E2D\u96E8-\u5927\u96E8":"https://mdn.alipayobjects.com/huamei_5vkpxz/afts/img/A*yHmiR6A9twQAAAAAAAAAAAAADpatAQ/original","\u5927\u96E8-\u66B4\u96E8":"https://mdn.alipayobjects.com/huamei_5vkpxz/afts/img/A*yHmiR6A9twQAAAAAAAAAAAAADpatAQ/original","\u66B4\u96E8-\u5927\u66B4\u96E8":"https://mdn.alipayobjects.com/huamei_5vkpxz/afts/img/A*3qWESpEucFMAAAAAAAAAAAAADpatAQ/original","\u5927\u66B4\u96E8-\u7279\u5927\u66B4\u96E8":"https://mdn.alipayobjects.com/huamei_5vkpxz/afts/img/A*3qWESpEucFMAAAAAAAAAAAAADpatAQ/original",\u96E8\u96EA\u5929\u6C14:"https://mdn.alipayobjects.com/huamei_5vkpxz/afts/img/A*zJU-SYgmOCkAAAAAAAAAAAAADpatAQ/original",\u96E8\u5939\u96EA:"https://mdn.alipayobjects.com/huamei_5vkpxz/afts/img/A*zJU-SYgmOCkAAAAAAAAAAAAADpatAQ/original",\u9635\u96E8\u5939\u96EA:"https://mdn.alipayobjects.com/huamei_5vkpxz/afts/img/A*zJU-SYgmOCkAAAAAAAAAAAAADpatAQ/original",\u51BB\u96E8:"https://mdn.alipayobjects.com/huamei_5vkpxz/afts/img/A*tPitRI60EEwAAAAAAAAAAAAADpatAQ/original",\u96EA:"https://mdn.alipayobjects.com/huamei_5vkpxz/afts/img/A*6usDRK5hwosAAAAAAAAAAAAADpatAQ/original",\u9635\u96EA:"https://mdn.alipayobjects.com/huamei_5vkpxz/afts/img/A*6usDRK5hwosAAAAAAAAAAAAADpatAQ/original",\u5C0F\u96EA:"https://mdn.alipayobjects.com/huamei_5vkpxz/afts/img/A*6usDRK5hwosAAAAAAAAAAAAADpatAQ/original",\u4E2D\u96EA:"https://mdn.alipayobjects.com/huamei_5vkpxz/afts/img/A*ra5GRp3U688AAAAAAAAAAAAADpatAQ/original",\u5927\u96EA:"https://mdn.alipayobjects.com/huamei_5vkpxz/afts/img/A*ra5GRp3U688AAAAAAAAAAAAADpatAQ/original",\u66B4\u96EA:"https://mdn.alipayobjects.com/huamei_5vkpxz/afts/img/A*ra5GRp3U688AAAAAAAAAAAAADpatAQ/original","\u5C0F\u96EA-\u4E2D\u96EA":"https://mdn.alipayobjects.com/huamei_5vkpxz/afts/img/A*ra5GRp3U688AAAAAAAAAAAAADpatAQ/original","\u4E2D\u96EA-\u5927\u96EA":"https://mdn.alipayobjects.com/huamei_5vkpxz/afts/img/A*ra5GRp3U688AAAAAAAAAAAAADpatAQ/original","\u5927\u96EA-\u66B4\u96EA":"https://mdn.alipayobjects.com/huamei_5vkpxz/afts/img/A*ra5GRp3U688AAAAAAAAAAAAADpatAQ/original",\u6D6E\u5C18:"",\u626C\u6C99:"",\u6C99\u5C18\u66B4:"",\u5F3A\u6C99\u5C18\u66B4:"",\u9F99\u5377\u98CE:"https://mdn.alipayobjects.com/huamei_5vkpxz/afts/img/A*0b3hTq-reJ4AAAAAAAAAAAAADpatAQ/original",\u96FE:"https://mdn.alipayobjects.com/huamei_5vkpxz/afts/img/A*E1YGT70TJDcAAAAAAAAAAAAADpatAQ/original",\u6D53\u96FE:"https://mdn.alipayobjects.com/huamei_5vkpxz/afts/img/A*E1YGT70TJDcAAAAAAAAAAAAADpatAQ/original",\u5F3A\u6D53\u96FE:"https://mdn.alipayobjects.com/huamei_5vkpxz/afts/img/A*E1YGT70TJDcAAAAAAAAAAAAADpatAQ/original",\u8F7B\u96FE:"https://mdn.alipayobjects.com/huamei_5vkpxz/afts/img/A*E1YGT70TJDcAAAAAAAAAAAAADpatAQ/original",\u5927\u96FE:"https://mdn.alipayobjects.com/huamei_5vkpxz/afts/img/A*E1YGT70TJDcAAAAAAAAAAAAADpatAQ/original",\u7279\u5F3A\u6D53\u96FE:"https://mdn.alipayobjects.com/huamei_5vkpxz/afts/img/A*E1YGT70TJDcAAAAAAAAAAAAADpatAQ/original",\u70ED:"https://mdn.alipayobjects.com/huamei_5vkpxz/afts/img/A*i6nKTpdxNIQAAAAAAAAAAAAADpatAQ/original",\u51B7:"https://mdn.alipayobjects.com/huamei_5vkpxz/afts/img/A*yAxYQofRH0sAAAAAAAAAAAAADpatAQ/original"},Yt={id:"B0HGCLIRF3",name:"\u8682\u8681A\u7A7A\u95F4(\u4E1C\u95E8)",district:"\u6D59\u6C5F\u7701\u676D\u5DDE\u5E02\u897F\u6E56\u533A",location:"120.104785,30.262946",address:"\u897F\u6EAA\u8DEF569\u53F7\u8682\u8681\u96C6\u56E2A\u7A7A\u95F4",longitude:120.104785,latitude:30.262946},J={start:{},end:{id:"B000A83C36",name:"\u5317\u4EAC\u7AD9",district:"\u5317\u4EAC\u5E02\u4E1C\u57CE\u533A",location:"116.427354,39.902830",address:"\u6BDB\u5BB6\u6E7E\u80E1\u540C\u753213\u53F7",longitude:116.427354,latitude:39.90283}},Ut={autoFit:!0,shape:"line",size:5,zIndex:4,color:{field:"status",value:function(t){var e=t.status;return e==="\u7F13\u884C"?"#FFFF00":e==="\u62E5\u5835"?"#FFA500'":e==="\u4E25\u91CD\u62E5\u5835"?"#FF0000":"#5AC475"}},style:{strokeWidth:.3,stroke:"#2B6246"}},Sa=[{title:"\u6E29\u5EA6",interval:[-35,-20,-10,-5,0,5,10,15,20,40],color:["#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac"].reverse(),unit:"\u2103"},{title:"\u6E7F\u5EA6",interval:[0,10,20,30,40,50,60,70,80,100],color:["#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac"],unit:"%"},{title:"\u7A7A\u6C14\u8D28\u91CF(AQI)",interval:[0,300],color:["#d7191c","#fdae61","#ffffbf","#a6d96a"].reverse(),unit:""}],Gt=["cities","polyline","tmcs"];function tt(x,t){return"".concat(x,"?").concat(Object.entries(t).map(function(e){var m=R()(e,2),c=m[0],g=m[1];return"".concat(c,"=").concat(window.encodeURIComponent(String(g)))}).join("&"))}var W=function(t){var e="b93400c020206bd6865a075036e7f423",m="20a5ed5ecb2756a0361e83e794b4aa0a",c="fdd01f9a9dd6846239b9523d7923339b",g="053b838db2f7b6a871b6ec5dbf62ab62";if(t==="input"){var A=[e,c];return A[Math.floor(Math.random()*A.length)]}if(t==="ip"){var s=[e,c,m];return s[Math.floor(Math.random()*s.length)]}if(t==="weather"||t==="driving"){var i=[e,m,c,g];return i[Math.floor(Math.random()*i.length)]}},Ht=function(){var x=B()(N()().mark(function t(e){var m,c,g,A,s,i,h,k,r,p;return N()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(e){f.next=2;break}return f.abrupt("return");case 2:if(m=e||{paths:[]},c=m.destination,g=m.origin,A=m.paths,s={start:{points:c},end:{points:g},paths:[],districts:[],chargingPileInfo:[]},f.prev=4,i=function(D){return D.split(";").map(function(T){return T.split(",").map(function(Q){return+Q}).filter(function(Q){return!Number.isNaN(Q)})})},h=function(D,T){return{type:"Feature",geometry:{type:"LineString",coordinates:i(D)},properties:T}},k=[],A.forEach(function(l,D){var T=l.distance,Q=l.steps,M="",Y=[],d=[];Q.forEach(function(o){var y=o.cities,j=o.polyline,P=o.tmcs,O=q()(o,Gt);M+=j,Y.push(O);var z=[];y.forEach(function(L,u){var S=i(j),F=u*(S.length/y.length),G=F+S.length/y.length,H=S.slice(F,G),$=R()(H[H.length-1],2),ya=$[0],ba=$[1];z.push(b()(b()({},L),{},{lngLat:{lng:ya,lat:ba}}))});var v=P.filter(function(L){return Mt.includes(L.tmc_status)});d.push.apply(d,I()(v)),k.push.apply(k,z)}),s.paths.push({polyline:h(M,{status:"\u7545\u901A",index:D}),distance:T}),s.tmcs=d.map(function(o){return h(o.tmc_polyline,{status:o.tmc_status,index:D})})}),s.districts=(0,Zt.Z)(k,"adcode"),(0,Nt.Z)(s.districts)){f.next=16;break}return r=s.districts,f.next=14,Promise.all(r.map(function(l){return st(l.adcode,"base")}));case 14:p=f.sent,s.districts=r.map(function(l){var D=p.find(function(T){return T.lives[0].adcode===l.adcode});return b()(b()({},l),{},{weatherInfoFeature:D.lives})});case 16:f.next=20;break;case 18:f.prev=18,f.t0=f.catch(4);case 20:return f.abrupt("return",s);case 21:case"end":return f.stop()}},t,null,[[4,18]])}));return function(e){return x.apply(this,arguments)}}(),Bt=function(t){var e={backgroundColor:"rgb(0, 123, 255, 90%)"};return t&&(t.indexOf("\u6674")>=0?e={backgroundColor:"rgba(255,255,255, .8)",color:"#007cff"}:t.indexOf("\u4E2D\u96E8")>=0?e={backgroundColor:"rgb(234 12 12 / 88%)"}:t.indexOf("\u5927\u96E8")>=0?e={backgroundColor:"rgb(0 0 0 / 77%)"}:t.indexOf("\u96EA")>=0?e={backgroundColor:"rgb(0 0 0 / 77%)"}:t.indexOf("\u96E8")>=0&&(e={backgroundColor:"rgb(255 128 51 / 90%)"})),e},Wt=function(t){for(var e=t.from,m=e===void 0?_()():e,c=t.count,g=[],A=0;A<c;A++){var s=m.add(A,"day");g.push({label:A===0?"\u4ECA\u65E5":s.format("M\u6708D\u65E5"),value:s.format("YYYY-MM-DD"),date:s})}return g},U=a(64451),za=null,st=function(){var x=B()(N()().mark(function t(e,m){var c;return N()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.prev=0,c=tt("https://restapi.amap.com/v3/weather/weatherInfo",{key:W("weather"),city:e,extensions:m}),A.next=4,fetch(c);case 4:return A.next=6,A.sent.json();case 6:return A.abrupt("return",A.sent);case 9:A.prev=9,A.t0=A.catch(0),U.ZP.open({content:"\u8BF7\u6C42\u8FC7\u4E8E\u7E41\u5FD9\uFF0C\u8BF7\u7A0D\u540E\u518D\u8BD5",style:{marginTop:150},duration:1});case 12:case"end":return A.stop()}},t,null,[[0,9]])}));return function(e,m){return x.apply(this,arguments)}}(),wa=null,It=a(86289),Vt=a(18551),Jt=a(80658),lt=a(99742),Xt=a(10409),Kt=a(85406),$t=a(16138),ct=a(93091),qt=a(60522),C=a(77617),_t=a(41363),E=a.n(_t),Z=a(68564),pt,dt,ut,mt,ht,vt,ft,gt,ta=function(){var t=nt.Z.useToken,e=t(),m=e.token,c=m.colorBgContainer;return{topPane:(0,Z.iv)(pt||(pt=E()([`
      position: absolute;
      top: 5px;
      left: 5px;
      right: 5px;
      z-index: 9999;
    `]))),searchPane:(0,Z.iv)(dt||(dt=E()([`
      padding: 0.75rem;
      border-radius: 0.5rem;
      background-color: `,`;
      flex-direction: row;
      display: flex;
      align-items: center;
      justify-content: space-between;

      .ant-select-dropdown {
        height: 360px;

        .ant-select-item-empty {
          .ant-empty {
            line-height: 280px;
          }
        }

        .rc-virtual-list {
          .rc-virtual-list-holder {
            max-height: 340px !important;
          }
        }
      }
    `])),c),imageIcon:(0,Z.iv)(ut||(ut=E()([`
      width: 25px;
      margin-right: 0.75rem;
    `]))),switch:(0,Z.iv)(mt||(mt=E()([`
      display: flex;
      align-items: center;
      margin-top: 12px;
      padding: 4px;
      width: 100px;
      border-radius: 6px;
      background-color: `,`;
      background-color: color-mix(in oklch, `,`, transparent 15%);
    `])),c,c),timePickerPane:(0,Z.iv)(ht||(ht=E()([`
      padding: 0.25rem;
      padding-top: calc(0.25rem + 6px);
      border-radius: 0.5rem;
      background-color: `,`;
      background-color: color-mix(in oklch, `,`, transparent 15%);
      width: 100px;
      margin-top: 10px;
      position: absolute;
      right: 0;
      text-align: center;

      .ant-radio-group {
        .ant-radio-button-wrapper {
          border-radius: 6px !important;
          border-inline-start-width: 1px !important;
          margin-bottom: 6px;
          width: 94px !important;
          text-align: center;

          :not(:first-child)::before {
            width: auto !important;
          }
        }
      }
    `])),c,c),locationSearch:(0,Z.iv)(vt||(vt=E()([`
      min-width: 200px;
    `]))),locationSearchName:(0,Z.iv)(ft||(ft=E()([`
      overflow: hidden;
      white-space: nowrap;
      text-overflow: ellipsis;
    `]))),locationSearchTip:(0,Z.iv)(gt||(gt=E()([`
      overflow: hidden;
      white-space: nowrap;
      text-overflow: ellipsis;
      color: #818181;
      font-size: 12px;
    `])))}},aa=ta,X=a(7292),ea=a(80262),K={iconPlace:"iconPlace___lj9tm",bubble:"bubble___kYwVb",weatherTool:"weatherTool___ZeItW"},n=a(32648),na=["lngLat","adcode"],ia=function(t){var e=t.districts,m=t.currentDate,c=t.open,g=function(s){if(m===V){var i;return s==null||(i=s.weatherInfoFeature)===null||i===void 0?void 0:i[0]}if(s.weatherInfo){var h,k,r,p,w,f,l=(h=s.weatherInfo)===null||h===void 0||(h=h.forecasts[0])===null||h===void 0||(h=h.casts)===null||h===void 0?void 0:h.find(function(D){return D.date===m});return{weather:(k=l==null?void 0:l.dayweather)!==null&&k!==void 0?k:"-",city:(r=(p=s.weatherInfo)===null||p===void 0||(p=p.forecasts[0])===null||p===void 0?void 0:p.city)!==null&&r!==void 0?r:"-",temperature:(w="".concat(l==null?void 0:l.daytemp," ~ ").concat(l==null?void 0:l.nighttemp))!==null&&w!==void 0?w:"-",windpower:(f=l==null?void 0:l.daypower)!==null&&f!==void 0?f:"-"}}return{weather:"-",city:"-",temperature:"-",windpower:"-"}};return(0,n.jsx)("div",{children:e.map(function(A){var s,i=A.lngLat,h=A.adcode,k=q()(A,na),r=g(k),p=Bt(r==null?void 0:r.weather);return(0,n.jsx)(X.Jx,{lngLat:i,anchor:"top-left",children:(0,n.jsxs)("div",{className:K.bubble,style:b()(b()({},p),{},{"--bgColor":p.backgroundColor}),children:[(0,n.jsx)("img",{src:Ft[r==null?void 0:r.weather],style:{marginRight:c?5:0},alt:""}),c&&(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"font-bold",children:r==null||(s=r.city)===null||s===void 0?void 0:s.replace("\u5E02","")}),(0,n.jsxs)("div",{className:K.weatherTool,children:[r==null?void 0:r.weather," |"," ",(r==null?void 0:r.temperature)+"\xB0C"," |"," ","\u98CE\u901F"+(r==null?void 0:r.windpower)]})]})]})},h)})})},Aa=function(t){var e=t.searchResult,m=t.currentDate,c=t.open,g=e.paths,A=e.start,s=e.end,i=e.districts,h=e.tmcs,k=(0,C.useMemo)(function(){var p=A.points.split(",").map(function(Y){return+Y}),w=R()(p,2),f=w[0],l=w[1],D=s.points.split(",").map(function(Y){return+Y}),T=R()(D,2),Q=T[0],M=T[1];return(0,n.jsxs)("div",{children:[(0,n.jsx)(X.Jx,{lngLat:{lng:f,lat:l},children:(0,n.jsx)("img",{className:K.iconPlace,src:ot})},"start"),(0,n.jsx)(X.Jx,{lngLat:{lng:Q,lat:M},children:(0,n.jsx)("img",{className:K.iconPlace,src:rt})},"end")]})},[A,s]),r=(0,C.useMemo)(function(){return(0,n.jsx)(X.Ie,b()(b()({},Ut),{},{id:"LineLayer",source:{data:(0,ea.uf4)([].concat(I()(g.map(function(p){return p.polyline})),I()(h)))}}))},[g,h]);return(0,n.jsxs)("div",{children:[r,k,(0,n.jsx)(ia,{districts:i,currentDate:m,open:c})]})},ra=a(52882),yt=a(90997),oa=a(45402),bt,xt,jt,sa=function(){return{locationSearch:(0,Z.iv)(bt||(bt=E()([`
      width: 100%;
    `]))),locationSearchName:(0,Z.iv)(xt||(xt=E()([`
      overflow: hidden;
      white-space: nowrap;
      text-overflow: ellipsis;
    `]))),locationSearchTip:(0,Z.iv)(jt||(jt=E()([`
      overflow: hidden;
      white-space: nowrap;
      text-overflow: ellipsis;
      color: #818181;
      font-size: 12px;
    `])))}},la=sa,ca=["searchParams","showDistrict","showAddress","onSearchFinish","onChange"],pa=yt.Z.Option,at=function(t){var e=t.searchParams,m=t.showDistrict,c=t.showAddress,g=t.onSearchFinish,A=t.onChange,s=q()(t,ca),i=la(),h=(0,C.useState)(),k=R()(h,2),r=k[0],p=k[1],w=(0,C.useState)([]),f=R()(w,2),l=f[0],D=f[1];(0,C.useEffect)(function(){g==null||g(l)},[g,l]);var T=(0,ra.Z)(function(){var d=B()(N()().mark(function o(y){var j,P,O,z,v;return N()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(y){u.next=3;break}return D([]),u.abrupt("return");case 3:return u.prev=3,O=tt("https://restapi.amap.com/v3/assistant/inputtips",b()(b()({},e),{},{keywords:[].concat(I()(((j=e.keywords)!==null&&j!==void 0?j:"").split("|")),[y]).filter(function(S){return!!S}).join("|")})),u.next=7,fetch(O);case 7:return u.next=9,u.sent.json();case 9:z=u.sent,p(!1),v=((P=z==null?void 0:z.tips)!==null&&P!==void 0?P:[]).filter(function(S){return S.location&&S.location.length}).map(function(S){var F=S.location.split(","),G=R()(F,2),H=G[0],$=G[1];return S.longitude=+H,S.latitude=+$,S}),p((v==null?void 0:v.length)===0),D(v),u.next=19;break;case 16:u.prev=16,u.t0=u.catch(3),U.ZP.open({content:"\u8BF7\u6C42\u8FC7\u4E8E\u7E41\u5FD9\uFF0C\u8BF7\u7A0D\u540E\u518D\u8BD5",style:{marginTop:150},duration:1});case 19:case"end":return u.stop()}},o,null,[[3,16]])}));return function(o){return d.apply(this,arguments)}}(),{wait:200}),Q=T.run,M=function(o){return(0,n.jsx)(oa.Z,{image:"https://gw.alipayobjects.com/zos/antfincdn/ZHrcdLPrvN/empty.svg",imageStyle:{height:60},description:(0,n.jsx)("span",{style:{display:"block",marginTop:-30},children:o})})},Y=(0,C.useCallback)(function(d){var o=d&&l.find(function(y){return y.id===d});A==null||A(d||void 0,o||void 0)},[A,l]);return(0,n.jsx)(yt.Z,b()(b()({className:i.locationSearch,onSearch:Q,onChange:Y,optionLabelProp:"label",notFoundContent:M(typeof r=="boolean"&&r?"\u8F93\u5165\u5B8C\u6574\u5730\u540D\u641C\u7D22\u66F4\u51C6\u786E":"\u6682\u65E0\u6570\u636E"),variant:"filled",size:"large",style:{width:"100%",overflow:"hidden"},getPopupContainer:function(){return document.getElementById("panel")}},s),{},{children:l.map(function(d){var o="".concat(m?d.district:"").concat(c?d.address:"");return(0,n.jsxs)(pa,{value:d.id,label:d.name,children:[(0,n.jsx)("div",{title:d.name,className:i.locationSearchName,children:d.name}),o&&(0,n.jsx)("div",{title:o,className:i.locationSearchTip,children:o})]},d.id)})}))};at.defaultProps={showSearch:!0,allowClear:!0,filterOption:!1,defaultActiveFirstOption:!1,showAddress:!0,showDistrict:!0};var da=function(){var x,t,e=(0,C.useState)(V),m=R()(e,2),c=m[0],g=m[1],A=(0,C.useState)(J),s=R()(A,2),i=s[0],h=s[1],k=(0,C.useState)(),r=R()(k,2),p=r[0],w=r[1],f=(0,C.useState)(!0),l=R()(f,2),D=l[0],T=l[1],Q=aa();(0,C.useEffect)(function(){var d="https://restapi.amap.com/v3/ip?key=".concat(W("ip"));fetch(d).then(function(o){return o.json()}).then(function(o){if(o.info==="OK"){var y,j=o.city,P=o.rectangle,O=(0,ct.Z)(P.split(";").map(function(G){return G.split(",").map(function(H){return+H})})),z=R()(O,4),v=z[0],L=z[1],u=z[2],S=z[3],F={id:(0,qt.Z)("start"),name:j,longitude:(v+u)/2,latitude:(L+S)/2,district:j,address:j};F.name===((y=J.end)===null||y===void 0?void 0:y.name)?h({start:F,end:{}}):h({start:F,end:J.end})}}).catch(function(){h({start:Yt,end:J.end})})},[]),(0,Vt.Z)(B()(N()().mark(function d(){var o,y,j,P,O;return N()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(!(i!=null&&i.start&&i.end)){v.next=25;break}if(o=i.start,y=i.end,o.name!==y.name){v.next=6;break}U.ZP.error("\u521D\u59CB\u70B9\u548C\u7EC8\u70B9\u4F4D\u7F6E\u4E0D\u80FD\u76F8\u540C"),v.next=25;break;case 6:return U.ZP.open({content:(0,n.jsx)(Jt.Z,{spinning:!0}),duration:10,key:"loading",style:{marginTop:150}}),v.prev=7,j=tt("https://restapi.amap.com/v5/direction/driving",{key:W("driving"),origin:"".concat(o.longitude,",").concat(o.latitude),destination:"".concat(y.longitude,",").concat(y.latitude),show_fields:"cities,polyline,tmcs,cost"}),v.next=11,fetch(j);case 11:return v.next=13,v.sent.json();case 13:return P=v.sent,v.next=16,Ht(P.route);case 16:O=v.sent,w(O),v.next=24;break;case 20:v.prev=20,v.t0=v.catch(7),U.ZP.open({content:"\u8BF7\u6C42\u8FC7\u4E8E\u7E41\u5FD9\uFF0C\u8BF7\u7A0D\u540E\u518D\u8BD5",style:{marginTop:150},duration:1}),U.ZP.destroy("loading");case 24:U.ZP.destroy("loading");case 25:case"end":return v.stop()}},d,null,[[7,20]])})),[i]);var M=(0,C.useMemo)(function(){return Wt({from:_()(),count:4})},[p]),Y=(0,C.useCallback)(function(){var d=B()(N()().mark(function o(y){var j,P,O,z;return N()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(j=y.target.value,g(j),!(p&&j!==c)){L.next=9;break}return P=p.districts,L.next=6,Promise.all(P.map(function(u){return u!=null&&u.weatherInfo?u==null?void 0:u.weatherInfo:st(u.adcode,"all")}));case 6:O=L.sent,z=P.map(function(u){var S=(0,ct.Z)(O).find(function(F){return F.forecasts[0].adcode===u.adcode});return b()(b()({},u),{},{weatherInfo:S})}),w(b()(b()({},p),{},{districts:z}));case 9:case"end":return L.stop()}},o)}));return function(o){return d.apply(this,arguments)}}(),[p,c,i]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:Q.topPane,children:[(0,n.jsxs)("div",{className:Q.searchPane,id:"panel",children:[(0,n.jsxs)("div",{style:{width:"100%",overflow:"hidden"},children:[(0,n.jsxs)(lt.Z,{style:{marginBottom:"0.5rem"},align:"center",children:[(0,n.jsx)("img",{className:Q.imageIcon,src:rt}),(0,n.jsx)(at,{searchParams:{key:W("input")},value:i==null||(x=i.start)===null||x===void 0?void 0:x.name,placeholder:"\u8F93\u5165\u8D77\u70B9",onChange:function(o,y){y&&(g(V),h(function(j){return b()(b()({},j),{},{start:y})}))}})]}),(0,n.jsxs)(lt.Z,{align:"center",children:[(0,n.jsx)("img",{className:Q.imageIcon,src:ot}),(0,n.jsx)(at,{searchParams:{key:W("input")},value:i==null||(t=i.end)===null||t===void 0?void 0:t.name,placeholder:"\u8F93\u5165\u7EC8\u70B9",onChange:function(o,y){y&&(g(V),h(function(j){return b()(b()({},j),{},{end:y})}))}})]})]}),(0,n.jsx)(Xt.ZP,{style:{marginLeft:"0.5rem"},type:"text",onClick:function(){i!=null&&i.end&&i.start&&h({start:i.end,end:i.start})},icon:(0,n.jsx)(It.Z,{style:{transform:"rotate(90deg)"}})})]}),(0,n.jsxs)("div",{className:Q.switch,id:"weather-switch",children:[(0,n.jsx)("div",{style:{fontSize:12,color:"#fff",marginRight:3},children:"\u6C14\u8C61\u8BE6\u60C5:"}),(0,n.jsx)(Kt.Z,{defaultChecked:D,checkedChildren:"\u5F00",unCheckedChildren:"\u5173",onChange:function(o){return T(o)}})]}),(0,n.jsx)("div",{className:Q.timePickerPane,children:(0,n.jsx)($t.ZP.Group,{options:M,onChange:Y,value:c,optionType:"button",buttonStyle:"solid"})})]}),p&&(0,n.jsx)(Aa,{searchResult:p,currentDate:c,open:D})]})},ua=function(){var x={};return{schema:x}},ma=(0,At.mV)({version:"v0.1",metadata:{name:"ChoosePlace",displayName:"\u4E24\u5730\u70B9\u9009\u62E9",description:"\u7528\u4E8E\u4E24\u5730\u70B9\u9009\u62E9",type:"Auto",category:"MapControl"},defaultProperties:{position:"topleft"},component:da,registerForm:ua}),ha={version:"v0.0.1",layers:[],widgets:[ma]},va=ha,fa=[zt.ZP,va];function ga(){return(0,n.jsx)(wt.ZP,{theme:St,locale:Tt.Z,children:(0,n.jsx)(At.JX,{config:kt,assets:fa,style:{height:"100vh"}})})}}}]);
