"use strict";(self.webpackChunk_antv_l7_site=self.webpackChunk_antv_l7_site||[]).push([[6641],{94073:function(e,a,t){t.r(a);t(35164),t(43801),t(6974),t(27068),t(12520);var n=t(7808),s=(t(19480),t(64700),t(12318),t(99500)),r=t(13273),l=t(92379),i=t(36629),d=t(651);a.default=function(){return(0,d.jsx)(s.dY,{children:(0,d.jsx)(l.Suspense,{fallback:(0,d.jsx)(r.Z,{}),children:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"markdown",children:[(0,d.jsx)("style",{dangerouslySetInnerHTML:{__html:"\n h3 { color: #873bf4; border-bottom: 1px solid #f0f0f0; margin: 1.2em 0 0.4em; } p { margin: 0.6em 0; } h4 { border-bottom: 1px solid #f0f0f0; }h4::before { content: '> '; opacity: 0.5; } "}}),(0,d.jsx)("p",{children:i.texts[0].value}),(0,d.jsxs)("div",{children:[i.texts[1].value,(0,d.jsxs)("div",{style:{width:"60%",float:"left",margin:"10px"},children:[i.texts[2].value,(0,d.jsx)("img",{width:"80%",alt:"案例",src:"https://gw.alipayobjects.com/mdn/antv_site/afts/img/A*oVyHT5S3sv0AAAAAAAAAAABkARQnAQ"}),i.texts[3].value]})]}),(0,d.jsxs)("h3",{id:"accomplish",children:[(0,d.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#accomplish",children:(0,d.jsx)("span",{className:"icon icon-link"})}),"accomplish"]}),(0,d.jsx)("p",{children:i.texts[4].value}),(0,d.jsx)("ul",{children:(0,d.jsxs)("li",{children:[i.texts[5].value,(0,d.jsx)("code",{children:i.texts[6].value}),i.texts[7].value,(0,d.jsx)(s.rU,{to:"/examples/point/image/#image",children:i.texts[8].value})]})}),(0,d.jsx)(n.Z,{lang:"javascript",children:i.texts[9].value}),(0,d.jsxs)("h3",{id:"addimagefield-string-url-string-void",children:[(0,d.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#addimagefield-string-url-string-void",children:(0,d.jsx)("span",{className:"icon icon-link"})}),"addImage(field: string, url: string): void"]}),(0,d.jsxs)("p",{children:[i.texts[10].value,(0,d.jsx)("code",{children:i.texts[11].value}),i.texts[12].value,(0,d.jsx)("code",{children:i.texts[13].value}),i.texts[14].value]}),(0,d.jsx)(n.Z,{lang:"js",children:i.texts[15].value}),(0,d.jsxs)("h3",{id:"shape",children:[(0,d.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#shape",children:(0,d.jsx)("span",{className:"icon icon-link"})}),"shape"]}),(0,d.jsxs)("p",{children:[i.texts[16].value,(0,d.jsx)("code",{children:i.texts[17].value}),i.texts[18].value,(0,d.jsx)("code",{children:i.texts[19].value}),i.texts[20].value,(0,d.jsx)("code",{children:i.texts[21].value}),i.texts[22].value,(0,d.jsx)("code",{children:i.texts[23].value}),i.texts[24].value,(0,d.jsx)("code",{children:i.texts[25].value}),i.texts[26].value,(0,d.jsx)("code",{children:i.texts[27].value}),i.texts[28].value,(0,d.jsx)("code",{children:i.texts[29].value}),i.texts[30].value]}),(0,d.jsx)(n.Z,{lang:"javascript",children:i.texts[31].value}),(0,d.jsxs)("p",{children:[i.texts[32].value,(0,d.jsx)("code",{children:i.texts[33].value}),i.texts[34].value,(0,d.jsx)("code",{children:i.texts[35].value}),i.texts[36].value]}),(0,d.jsxs)("p",{children:[i.texts[37].value,(0,d.jsx)("code",{children:i.texts[38].value}),i.texts[39].value]}),(0,d.jsx)(n.Z,{lang:"javascript",children:i.texts[40].value}),(0,d.jsxs)("p",{children:[i.texts[41].value,(0,d.jsx)("code",{children:i.texts[42].value}),i.texts[43].value,(0,d.jsx)("code",{children:i.texts[44].value}),i.texts[45].value]}),(0,d.jsx)("p",{children:i.texts[46].value})]}),(0,d.jsx)(s.rU,{to:"/examples/point/image#image",children:i.texts[47].value}),(0,d.jsxs)("div",{className:"markdown",children:[(0,d.jsxs)("h3",{id:"style",children:[(0,d.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#style",children:(0,d.jsx)("span",{className:"icon icon-link"})}),"style"]}),(0,d.jsxs)("h4",{id:"billboard",children:[(0,d.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#billboard",children:(0,d.jsx)("span",{className:"icon icon-link"})}),"billboard"]}),(0,d.jsxs)("ol",{children:[(0,d.jsxs)("li",{children:[i.texts[48].value,(0,d.jsx)("code",{children:i.texts[49].value}),i.texts[50].value,(0,d.jsx)("code",{children:i.texts[51].value}),i.texts[52].value]}),(0,d.jsxs)("li",{children:[i.texts[53].value,(0,d.jsx)("code",{children:i.texts[54].value}),i.texts[55].value]})]}),(0,d.jsxs)("p",{children:[i.texts[56].value,(0,d.jsx)("code",{children:i.texts[57].value}),i.texts[58].value]}),(0,d.jsxs)("p",{children:[i.texts[59].value,(0,d.jsx)("code",{children:i.texts[60].value})]}),(0,d.jsx)(n.Z,{lang:"javascript",children:i.texts[61].value}),(0,d.jsxs)("h5",{id:"rotation",children:[(0,d.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#rotation",children:(0,d.jsx)("span",{className:"icon icon-link"})}),"rotation"]}),(0,d.jsxs)("p",{children:[i.texts[62].value,(0,d.jsx)("code",{children:i.texts[63].value}),i.texts[64].value]}),(0,d.jsx)("ul",{children:(0,d.jsxs)("li",{children:[(0,d.jsx)("code",{children:i.texts[65].value}),i.texts[66].value]})}),(0,d.jsx)(n.Z,{lang:"ts",children:i.texts[67].value}),(0,d.jsx)("p",{children:i.texts[68].value}),(0,d.jsx)(n.Z,{lang:"ts",children:i.texts[69].value}),(0,d.jsx)(n.Z,{lang:"tsx",children:i.texts[70].value}),(0,d.jsx)("img",{width:"60%",style:{display:"block",margin:"0 auto"},alt:"案例",src:"https://gw.alipayobjects.com/mdn/rms_816329/afts/img/A*1kBZTaains4AAAAAAAAAAAAAARQnAQ"})]}),(0,d.jsx)(s.rU,{to:"/examples/point/image#fillimage",children:i.texts[71].value}),(0,d.jsxs)("div",{className:"markdown",children:[(0,d.jsxs)("p",{children:[i.texts[72].value,(0,d.jsx)("code",{children:i.texts[73].value}),i.texts[74].value]}),(0,d.jsx)(n.Z,{lang:"javascript",children:i.texts[75].value})]}),(0,d.jsx)(s.rU,{to:"/examples/point/image#monsoon",children:i.texts[76].value})]})})})}},53980:function(e,a,t){t.d(a,{G:function(){return u}});var n=t(97502),s=t(99500),r=(t(92379),"d8ttRdvsaeIwjsXPUrV3"),l="YWbojl5X0YI9jR8WQ6vF",i="nHrVcWv4dgQMNfb_O3dk",d="kLT5PvcX6twH_8KM1K4Y",o="HdNrro6Kmg0q9gTP4YLJ",c=t(651);var u=function(e){var a,t=e.isPlayground,u=e.exampleId,x=e.header,p=e.error;return(0,c.jsxs)("div",{className:r,children:[t?null:(0,c.jsx)("div",{className:l,children:x}),(0,c.jsxs)("div",{className:i,children:[(0,c.jsx)("div",{id:"playgroundScriptContainer_".concat(u),className:d}),p?(0,c.jsx)(n.ZP,{className:o,status:"error",title:(0,c.jsx)(s._H,{id:"演示代码报错，请检查"}),subTitle:(0,c.jsx)("pre",{children:(a=p,(a.reason?a.reason:a.message?a.message:a).toString())})}):null]})]})}},19298:function(e,a,t){t.d(a,{S:function(){return L}});var n=t(28633),s=t.n(n),r=t(5572),l=t(49377),i=t(23622),d=t(99500),o=t(35510),c=t(92379),u=t(4667),x=t(53980),p=t(8131),h=t(95913),v=t(32686),m=t(29318),I=t(52486),g=t(65879),f=t.n(g),j=t(72916),b=t(54014),y={},w=t(651),A=function(e){var a=e.title,t=e.relativePath,n=e.githubUrl,s=(0,d.WF)().themeConfig.relativePath;(0,b.KI)(),new(f())(location.href);return(0,w.jsx)(h.Z,{ghost:!1,title:a,subTitle:(0,w.jsx)(v.Z,{title:(0,w.jsx)(d._H,{id:"在 GitHub 上编辑"}),children:(0,w.jsx)("a",{href:function(e){var a=e.githubUrl,t=e.relativePath;e.prefix;return"".concat(a,"/edit/master/").concat(s,"/examples/").concat(t)}({githubUrl:n,relativePath:t,prefix:"examples"}),target:"_blank",rel:"noopener noreferrer",className:y.editOnGtiHubButton,children:(0,w.jsx)(p.Z,{})})}),extra:(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(m.Z,{split:(0,w.jsx)(I.Z,{type:"vertical"})}),(0,w.jsx)(j.Z,{})]})})},z=t(24325),k=t.n(z),Z=t(72725);function _(e,a,t,n){var s=function(e){var a=new Map;return(0,Z.Z)(e,(function(e){(0,Z.Z)(e.examples,(function(t){(0,Z.Z)(t.demos,(function(n){a.set("".concat(e.id,"-").concat(t.id,"-").concat(n.id),k()(k()({},n),{},{relativePath:"".concat(e.id,"/").concat(t.id,"/demo/").concat(n.filename),targetExample:t,targetTopic:e}))}))}))})),a}(e);return s.get("".concat(a,"-").concat(t,"-").concat(n))}var L=function(e){var a=e.exampleTopics,t=e.topic,n=e.example,p=e.demo,h=e.size,v=e.replaceId,m=e.isPlayground,I=e.notFound,g=void 0===I?(0,w.jsx)(r.T,{}):I,f=_(a,t,n,p);if(!f)return g;var j=f.title,b=f.source,y=f.relativePath,z=(0,d.WF)().themeConfig,k=z.githubUrl,Z=z.playground,L=(0,c.useState)(),P=s()(L,2),S=P[0],N=P[1],T=(0,c.useState)(!1),U=s()(T,2),H=(U[0],U[1]),W=((0,d.bU)(),(0,w.jsx)(A,{title:(0,i.ic)(j),relativePath:y,githubUrl:k})),F="".concat(t,"_").concat(n,"_").concat(p);return(0,w.jsxs)(u.Z,{split:"vertical",defaultSize:"".concat(100*(1-h),"%"),minSize:100,children:[(0,w.jsx)(x.G,{exampleId:F,error:S,header:W,isPlayground:m}),(0,w.jsx)(l.p,{exampleId:F,source:b,relativePath:y,replaceId:v,onError:N,onFullscreen:H,onDestroy:o.Z,onReady:o.Z,playground:Z})]})}},72916:function(e,a,t){var n=t(35957),s=(t(92379),t(48229)),r=t(651),l=function(){return(0,r.jsx)("img",{width:16,style:{margin:"5px"},src:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*iDSwRorar_QAAAAAAAAAAAAADmJ7AQ/original",alt:"react 组件库"})};a.Z=function(e){e.readingTime;return(0,r.jsxs)("div",{style:{float:"right",display:"flex",gap:"10px"},children:[(0,r.jsx)(s.Z,{href:"https://github.com/antvis/L7/issues/new","data-icon":"octicon-issue-opened","data-size":"large","data-show-count":"true","aria-label":"Issue antvis/l7 on GitHub",children:"反馈问题"}),(0,r.jsx)(s.Z,{href:"https://github.com/antvis/l7","data-icon":"octicon-star","data-size":"large","data-show-count":"true","aria-label":"Star antvis/l7 on GitHub",children:"关注项目"}),(0,r.jsx)(n.Z,{icon:(0,r.jsx)(l,{}),style:{fontWeight:600,height:"30px",padding:"1px 6px"},target:"blank",href:"https://larkmap.antv.antgroup.com/components/lark-map",children:"React 组件库"})]})}},54014:function(e,a,t){function n(){for(var e=window.location.pathname.replace("/docs/","/").replace("/zh/","/").split("/"),a=[],t=e.length;t>0;t--){var n=e.slice(0,t);a.push(n.join("/"))}return a}function s(){var e=window.location.pathname;e=(e=e.replace("/zh/","/")).replace("/docs","");var a=window.location.pathname.startsWith("/en")?/(\/[A-z]*\/?\/[A-z]*)\/?/:/(\/[A-z]*)\/?/;return e.match(a)[1]}function r(e){var a=[],t=e[0];for(a.push(t.key);t.children;)t=t.children[0],a.push(t.key);return a[a.length-1]}function l(e,a,t){return e.includes("/docs/")||e.includes("/zh/")?e.replace("/docs/","/").replace("/zh/","/"):t.every((function(a){var t="".concat(a).toLowerCase();return![t,"".concat(t,"/")].includes(e.toLowerCase())}))?a:e}t.d(a,{Gd:function(){return l},KI:function(){return s},Xd:function(){return n},iX:function(){return r}})},36629:function(e,a,t){t.r(a),t.d(a,{texts:function(){return n}});const n=[{value:"The point layer supports drawing icons and placing different pictures as symbols on geographical areas, usually representing the distribution of different geographical features.",paraId:0},{value:"\n  ",paraId:1},{value:"\n    ",paraId:1},{value:"\n  ",paraId:1},{value:"Let's introduce how to draw a common symbol map.",paraId:2,tocIndex:0},{value:"you can",paraId:3,tocIndex:0},{value:"L7",paraId:3,tocIndex:0},{value:"Found on the official website",paraId:3,tocIndex:0},{value:"Online case",paraId:4,tocIndex:0},{value:"import { Scene, PointLayer } from '@antv/l7';\nimport { GaodeMap } from '@antv/l7-maps';\n\nconst scene = new Scene({\n  id: 'map',\n  map: new GaodeMap({\n    style: 'light',\n    center: [121.434765, 31.256735],\n    zoom: 14.83,\n  }),\n});\nscene.addImage(\n  '00',\n  'https://gw.alipayobjects.com/zos/basement_prod/604b5e7f-309e-40db-b95b-4fac746c5153.svg',\n);\nscene.addImage(\n  '01',\n  'https://gw.alipayobjects.com/zos/basement_prod/30580bc9-506f-4438-8c1a-744e082054ec.svg',\n);\nscene.addImage(\n  '02',\n  'https://gw.alipayobjects.com/zos/basement_prod/7aa1f460-9f9f-499f-afdf-13424aa26bbf.svg',\n);\nscene.on('loaded', () => {\n  fetch('https://gw.alipayobjects.com/os/basement_prod/893d1d5f-11d9-45f3-8322-ee9140d288ae.json')\n    .then((res) => res.json())\n    .then((data) => {\n      const imageLayer = new PointLayer()\n        .source(data, {\n          parser: {\n            type: 'json',\n            x: 'longitude',\n            y: 'latitude',\n          },\n        })\n        .shape('name', ['00', '01', '02'])\n        .size(25);\n      scene.addLayer(imageLayer);\n    });\n});\n",paraId:5,tocIndex:0},{value:"In order to draw an icon using a point layer, we need to",paraId:6,tocIndex:1},{value:"scene",paraId:6,tocIndex:1},{value:"Add corresponding image resources globally. Then we can click on the layer",paraId:6,tocIndex:1},{value:"shape",paraId:6,tocIndex:1},{value:"Specify the corresponding image in the method.",paraId:6,tocIndex:1},{value:"scene.addImage(\n  '02',\n  'https://gw.alipayobjects.com/zos/basement_prod/7aa1f460-9f9f-499f-afdf-13424aa26bbf.svg',\n);\n",paraId:7,tocIndex:1},{value:"we need to pass",paraId:8,tocIndex:2},{value:"shape",paraId:8,tocIndex:2},{value:"The method specifies the image resources that need to be loaded for the current point layer.",paraId:8,tocIndex:2},{value:"ID",paraId:8,tocIndex:2},{value:"，",paraId:8,tocIndex:2},{value:"ID",paraId:8,tocIndex:2},{value:"is used by users",paraId:8,tocIndex:2},{value:"scene.addImage(id, url)",paraId:8,tocIndex:2},{value:"When adding image resources globally",paraId:8,tocIndex:2},{value:"ID",paraId:8,tocIndex:2},{value:", that is, the symbolic diagram needs to",paraId:8,tocIndex:2},{value:"shape",paraId:8,tocIndex:2},{value:"set as picture",paraId:8,tocIndex:2},{value:"id",paraId:8,tocIndex:2},{value:"。",paraId:8,tocIndex:2},{value:"scene.addImage(\n  '00',\n  'https://gw.alipayobjects.com/zos/basement_prod/604b5e7f-309e-40db-b95b-4fac746c5153.svg',\n);\nscene.addImage(\n  '01',\n  'https://gw.alipayobjects.com/zos/basement_prod/604b5e7f-309e-40db-b95b-4fac746c5153.svg',\n);\n\nlayer.shape('00');\n",paraId:9,tocIndex:2},{value:"⚠️ Symbol diagram",paraId:10,tocIndex:2},{value:"ID",paraId:10,tocIndex:2},{value:"It cannot be the same as the existing shape name of the point layer. For example, it cannot be set.",paraId:10,tocIndex:2},{value:"circle",paraId:10,tocIndex:2},{value:"。",paraId:10,tocIndex:2},{value:"Same symbol diagram",paraId:11,tocIndex:2},{value:"shape",paraId:11,tocIndex:2},{value:"Data mapping is also supported",paraId:11,tocIndex:2},{value:"const scatter = new PointLayer()\n  .source(data)\n  .shape('name', (v) => {\n    switch (v) {\n      case 'p1':\n        return '00';\n      case 'p2':\n        return '01';\n    }\n  })\n  .size(5)\n  .style({\n    opacity: 0.3,\n    strokeWidth: 1,\n  });\n",paraId:12,tocIndex:2},{value:"⚠️ Symbol diagram should not be set",paraId:13,tocIndex:2},{value:"color",paraId:13,tocIndex:2},{value:"Pass in color,",paraId:13,tocIndex:2},{value:"color",paraId:13,tocIndex:2},{value:"The color you set will override the color of the image.",paraId:13,tocIndex:2},{value:"⚠️ In order to get a better realistic effect (the picture is clear and has no obvious aliasing), we should keep it consistent when selecting the picture and setting the icon size, or the icon size set in the L7 layer is slightly smaller than the pixel size of the actual picture.",paraId:14,tocIndex:2},{value:"Online case",paraId:15},{value:"Pass by default",paraId:16,tocIndex:4},{value:"PointLayer",paraId:16,tocIndex:4},{value:"instantiated",paraId:16,tocIndex:4},{value:"image",paraId:16,tocIndex:4},{value:"It is essentially a sprite map, so it always faces the camera, and the size of the map is also limited by the device.",paraId:16,tocIndex:4},{value:"Since the sprite always faces the camera, we can't customize the configuration either",paraId:16,tocIndex:4},{value:"image",paraId:16,tocIndex:4},{value:"of rotation angle.",paraId:16,tocIndex:4},{value:"In order to solve the above two problems (1. Limited size, 2. Unable to customize the rotation angle), we provide a separate non-elf mode",paraId:17,tocIndex:4},{value:"billboard",paraId:17,tocIndex:4},{value:"mode.",paraId:17,tocIndex:4},{value:"Just configure billboard in style as",paraId:18,tocIndex:4},{value:"false",paraId:18,tocIndex:4},{value:"const imageLayer = new PointLayer({ layerType: 'fillImage' })\n  .source(data, {\n    parser: {\n      type: 'json',\n      x: 'longitude',\n      y: 'latitude',\n    },\n  })\n  .shape('name', ['00', '01', '02'])\n  .style({\n    rotation: 0,\n    billboard: false,\n  })\n  .size(45);\n",paraId:19,tocIndex:4},{value:"We support using",paraId:20,tocIndex:5},{value:"rotation",paraId:20,tocIndex:5},{value:"Customize the rotation angle of the configuration icon (clockwise, angle system).",paraId:20,tocIndex:5},{value:"rotation",paraId:21,tocIndex:5},{value:": number|undefined // Angle unit 0-360",paraId:21,tocIndex:5},{value:"layer.style({\n  rotation: 90,\n});\n",paraId:22,tocIndex:5},{value:"rotation supports constants and data mapping",paraId:23,tocIndex:5},{value:"layer.style({\n  rotation: {\n    field: 'rotate',\n    value: [0, 360],\n  },\n});\n",paraId:24,tocIndex:5},{value:"layer.style({\n  rotation: {\n    field: 'rotate',\n    value: (rotate) => {\n      return rotate;\n    },\n  },\n});\n",paraId:25,tocIndex:5},{value:"Online case",paraId:26},{value:"Non-billboard mode support for symbol graphs",paraId:27},{value:"rotation",paraId:27},{value:"Method maps rotation angle based on data.",paraId:27},{value:"const imageLayer = new PointLayer()\n  .source(data)\n  .shape('wind', (wind) => {\n    if (wind === 'up') {\n      return 'arrBlue';\n    }\n    return 'arrRed';\n  })\n  .size(15)\n  .style({\n    rotation: 0, //\n    billboard: false,\n  });\nscene.addLayer(imageLayer);\n",paraId:28},{value:"Online case",paraId:29}]}}]);