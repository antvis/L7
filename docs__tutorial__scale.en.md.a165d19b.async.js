"use strict";(self.webpackChunk_antv_l7_site=self.webpackChunk_antv_l7_site||[]).push([[1065],{7156:function(e,a,t){t.r(a);t(35164),t(43801),t(6974),t(27068),t(12520);var n=t(7808),i=t(19480),s=(t(64700),t(12318),t(99500)),l=t(13273),r=t(92379),o=t(60744),c=t(651);a.default=function(){return(0,c.jsx)(s.dY,{children:(0,c.jsx)(r.Suspense,{fallback:(0,c.jsx)(l.Z,{}),children:(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{className:"markdown",children:[(0,c.jsx)("style",{dangerouslySetInnerHTML:{__html:"\n h3 { color: #873bf4; border-bottom: 1px solid #f0f0f0; margin: 1.2em 0 0.4em; } p { margin: 0.6em 0; } h4 { border-bottom: 1px solid #f0f0f0; }h4::before { content: '> '; opacity: 0.5; } "}}),(0,c.jsxs)("h2",{id:"introduction-to-scale",children:[(0,c.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#introduction-to-scale",children:(0,c.jsx)("span",{className:"icon icon-link"})}),"Introduction to Scale"]}),(0,c.jsx)("p",{children:o.texts[0].value}),(0,c.jsx)("p",{children:(0,c.jsx)("img",{src:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*AOIvTpmPOmgAAAAAAAAAAAAADmJ7AQ/original",alt:"L7 Scale"})}),(0,c.jsxs)("h2",{id:"two-important-concepts-in-scale",children:[(0,c.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#two-important-concepts-in-scale",children:(0,c.jsx)("span",{className:"icon icon-link"})}),"Two important concepts in Scale:"]}),(0,c.jsx)("p",{children:o.texts[1].value}),(0,c.jsx)("p",{children:o.texts[2].value}),(0,c.jsx)("p",{children:o.texts[3].value}),(0,c.jsx)("p",{children:o.texts[4].value}),(0,c.jsxs)(i.Z,{children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{children:o.texts[5].value}),(0,c.jsx)("th",{children:o.texts[6].value})]})}),(0,c.jsxs)("tbody",{children:[(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:o.texts[7].value}),(0,c.jsx)("td",{children:o.texts[8].value})]}),(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:o.texts[9].value}),(0,c.jsx)("td",{children:o.texts[10].value})]}),(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:o.texts[11].value}),(0,c.jsx)("td",{children:o.texts[12].value})]})]})]}),(0,c.jsxs)("h2",{id:"l7-scale",children:[(0,c.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#l7-scale",children:(0,c.jsx)("span",{className:"icon icon-link"})}),"L7 Scale"]}),(0,c.jsx)("p",{children:o.texts[13].value}),(0,c.jsx)("p",{children:o.texts[14].value}),(0,c.jsx)("p",{children:o.texts[15].value}),(0,c.jsx)("p",{children:o.texts[16].value}),(0,c.jsx)("p",{children:o.texts[17].value}),(0,c.jsx)("p",{children:o.texts[18].value}),(0,c.jsxs)("h2",{id:"cat-enumeration",children:[(0,c.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#cat-enumeration",children:(0,c.jsx)("span",{className:"icon icon-link"})}),"Cat enumeration"]}),(0,c.jsx)("p",{children:o.texts[19].value}),(0,c.jsx)(n.Z,{lang:"tsx",children:o.texts[20].value}),(0,c.jsx)("p",{children:o.texts[21].value}),(0,c.jsx)("p",{children:(0,c.jsx)("img",{src:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*rO53SYNk8hgAAAAAAAAAAAAADmJ7AQ/original",alt:"L7 scale Cat映射"})}),(0,c.jsx)("p",{children:o.texts[22].value}),(0,c.jsx)(n.Z,{children:o.texts[23].value}),(0,c.jsx)("p",{children:(0,c.jsx)("img",{src:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*kyP2RpUXdGUAAAAAAAAAAAAADmJ7AQ/original",alt:"L7 Cat "})}),(0,c.jsxs)("h2",{id:"linear-continuous-linear",children:[(0,c.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#linear-continuous-linear",children:(0,c.jsx)("span",{className:"icon icon-link"})}),"Linear continuous linear"]}),(0,c.jsx)("p",{children:o.texts[24].value}),(0,c.jsx)("p",{children:(0,c.jsx)("img",{src:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*Z_rGRr-jgI0AAAAAAAAAAAAADmJ7AQ/original'",alt:"L7 Scale 线性"})}),(0,c.jsx)(n.Z,{lang:"tsx",children:o.texts[25].value}),(0,c.jsx)("p",{children:o.texts[26].value}),(0,c.jsx)(n.Z,{lang:"ts",children:o.texts[27].value}),(0,c.jsxs)("h2",{id:"quantize-continuous-equally-spaced",children:[(0,c.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#quantize-continuous-equally-spaced",children:(0,c.jsx)("span",{className:"icon icon-link"})}),"quantize continuous equally spaced"]}),(0,c.jsx)("p",{children:o.texts[28].value}),(0,c.jsx)("p",{children:(0,c.jsx)("img",{src:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*YmwwQ5L-d7QAAAAAAAAAAAAADmJ7AQ/original",alt:"L7 Scale 连续等间距"})}),(0,c.jsx)("p",{children:o.texts[29].value}),(0,c.jsx)(n.Z,{lang:"tsx",children:o.texts[30].value}),(0,c.jsx)("p",{children:o.texts[31].value}),(0,c.jsx)(n.Z,{lang:"ts",children:o.texts[32].value}),(0,c.jsx)("p",{children:(0,c.jsx)("img",{src:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*N61_Q6-U7jIAAAAAAAAAAAAADmJ7AQ/original",alt:"L7 scale quantize"})}),(0,c.jsxs)("h2",{id:"quantile-continuous-equal-quantiles",children:[(0,c.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#quantile-continuous-equal-quantiles",children:(0,c.jsx)("span",{className:"icon icon-link"})}),"quantile continuous equal quantiles"]}),(0,c.jsx)("p",{children:o.texts[33].value}),(0,c.jsx)("p",{children:(0,c.jsx)("img",{src:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*2SFpSLRD3yYAAAAAAAAAAAAADmJ7AQ/original",alt:"L7 scale quantile"})}),(0,c.jsx)("p",{children:o.texts[34].value}),(0,c.jsx)(n.Z,{lang:"tsx",children:o.texts[35].value}),(0,c.jsx)("p",{children:(0,c.jsx)("img",{src:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*EMcjSrYe1l0AAAAAAAAAAAAADmJ7AQ/original",alt:"L7 Scale quantile"})}),(0,c.jsxs)("h2",{id:"threshold-custom-classification",children:[(0,c.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#threshold-custom-classification",children:(0,c.jsx)("span",{className:"icon icon-link"})}),"threshold custom classification"]}),(0,c.jsx)("p",{children:o.texts[36].value}),(0,c.jsx)("p",{children:o.texts[37].value}),(0,c.jsx)(n.Z,{lang:"tsx",children:o.texts[38].value}),(0,c.jsx)("p",{children:(0,c.jsx)("img",{src:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*e1YyRKELsjwAAAAAAAAAAAAADmJ7AQ/original",alt:" L7 Scale threshold"})}),(0,c.jsxs)("h2",{id:"diverging-discrete-classification",children:[(0,c.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#diverging-discrete-classification",children:(0,c.jsx)("span",{className:"icon icon-link"})}),"diverging discrete classification"]}),(0,c.jsx)("p",{children:o.texts[39].value}),(0,c.jsx)("p",{children:(0,c.jsx)("img",{src:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*8anRRLJNu6YAAAAAAAAAAAAADmJ7AQ/original",alt:"L7 diverging"})}),(0,c.jsx)("p",{children:o.texts[40].value}),(0,c.jsx)(n.Z,{lang:"ts",children:o.texts[41].value}),(0,c.jsx)("p",{children:(0,c.jsx)("img",{src:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*4rcDQIRdRdEAAAAAAAAAAAAADmJ7AQ/original",alt:"L7 scale diverging"})})]})})})})}},53980:function(e,a,t){t.d(a,{G:function(){return u}});var n=t(97502),i=t(99500),s=(t(92379),"d8ttRdvsaeIwjsXPUrV3"),l="YWbojl5X0YI9jR8WQ6vF",r="nHrVcWv4dgQMNfb_O3dk",o="kLT5PvcX6twH_8KM1K4Y",c="HdNrro6Kmg0q9gTP4YLJ",d=t(651);var u=function(e){var a,t=e.isPlayground,u=e.exampleId,h=e.header,x=e.error;return(0,d.jsxs)("div",{className:s,children:[t?null:(0,d.jsx)("div",{className:l,children:h}),(0,d.jsxs)("div",{className:r,children:[(0,d.jsx)("div",{id:"playgroundScriptContainer_".concat(u),className:o}),x?(0,d.jsx)(n.ZP,{className:c,status:"error",title:(0,d.jsx)(i._H,{id:"演示代码报错，请检查"}),subTitle:(0,d.jsx)("pre",{children:(a=x,(a.reason?a.reason:a.message?a.message:a).toString())})}):null]})]})}},19298:function(e,a,t){t.d(a,{S:function(){return Z}});var n=t(28633),i=t.n(n),s=t(5572),l=t(49377),r=t(23622),o=t(99500),c=t(35510),d=t(92379),u=t(4667),h=t(53980),x=t(8131),p=t(95913),m=t(32686),v=t(29318),f=t(52486),A=t(65879),g=t.n(A),j=t(72916),y=t(54014),b={},I=t(651),w=function(e){var a=e.title,t=e.relativePath,n=e.githubUrl,i=(0,o.WF)().themeConfig.relativePath;(0,y.KI)(),new(g())(location.href);return(0,I.jsx)(p.Z,{ghost:!1,title:a,subTitle:(0,I.jsx)(m.Z,{title:(0,I.jsx)(o._H,{id:"在 GitHub 上编辑"}),children:(0,I.jsx)("a",{href:function(e){var a=e.githubUrl,t=e.relativePath;e.prefix;return"".concat(a,"/edit/master/").concat(i,"/examples/").concat(t)}({githubUrl:n,relativePath:t,prefix:"examples"}),target:"_blank",rel:"noopener noreferrer",className:b.editOnGtiHubButton,children:(0,I.jsx)(x.Z,{})})}),extra:(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(v.Z,{split:(0,I.jsx)(f.Z,{type:"vertical"})}),(0,I.jsx)(j.Z,{})]})})},q=t(24325),L=t.n(q),S=t(72725);function _(e,a,t,n){var i=function(e){var a=new Map;return(0,S.Z)(e,(function(e){(0,S.Z)(e.examples,(function(t){(0,S.Z)(t.demos,(function(n){a.set("".concat(e.id,"-").concat(t.id,"-").concat(n.id),L()(L()({},n),{},{relativePath:"".concat(e.id,"/").concat(t.id,"/demo/").concat(n.filename),targetExample:t,targetTopic:e}))}))}))})),a}(e);return i.get("".concat(a,"-").concat(t,"-").concat(n))}var Z=function(e){var a=e.exampleTopics,t=e.topic,n=e.example,x=e.demo,p=e.size,m=e.replaceId,v=e.isPlayground,f=e.notFound,A=void 0===f?(0,I.jsx)(s.T,{}):f,g=_(a,t,n,x);if(!g)return A;var j=g.title,y=g.source,b=g.relativePath,q=(0,o.WF)().themeConfig,L=q.githubUrl,S=q.playground,Z=(0,d.useState)(),k=i()(Z,2),D=k[0],T=k[1],z=(0,d.useState)(!1),N=i()(z,2),Q=(N[0],N[1]),C=((0,o.bU)(),(0,I.jsx)(w,{title:(0,r.ic)(j),relativePath:b,githubUrl:L})),P="".concat(t,"_").concat(n,"_").concat(x);return(0,I.jsxs)(u.Z,{split:"vertical",defaultSize:"".concat(100*(1-p),"%"),minSize:100,children:[(0,I.jsx)(h.G,{exampleId:P,error:D,header:C,isPlayground:v}),(0,I.jsx)(l.p,{exampleId:P,source:y,relativePath:b,replaceId:m,onError:T,onFullscreen:Q,onDestroy:c.Z,onReady:c.Z,playground:S})]})}},72916:function(e,a,t){var n=t(35957),i=(t(92379),t(48229)),s=t(651),l=function(){return(0,s.jsx)("img",{width:16,style:{margin:"5px"},src:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*iDSwRorar_QAAAAAAAAAAAAADmJ7AQ/original",alt:"react 组件库"})};a.Z=function(e){e.readingTime;return(0,s.jsxs)("div",{style:{float:"right",display:"flex",gap:"10px"},children:[(0,s.jsx)(i.Z,{href:"https://github.com/antvis/L7/issues/new","data-icon":"octicon-issue-opened","data-size":"large","data-show-count":"true","aria-label":"Issue antvis/l7 on GitHub",children:"反馈问题"}),(0,s.jsx)(i.Z,{href:"https://github.com/antvis/l7","data-icon":"octicon-star","data-size":"large","data-show-count":"true","aria-label":"Star antvis/l7 on GitHub",children:"关注项目"}),(0,s.jsx)(n.Z,{icon:(0,s.jsx)(l,{}),style:{fontWeight:600,height:"30px",padding:"1px 6px"},target:"blank",href:"https://larkmap.antv.antgroup.com/components/lark-map",children:"React 组件库"})]})}},54014:function(e,a,t){function n(){for(var e=window.location.pathname.replace("/docs/","/").replace("/zh/","/").split("/"),a=[],t=e.length;t>0;t--){var n=e.slice(0,t);a.push(n.join("/"))}return a}function i(){var e=window.location.pathname;e=(e=e.replace("/zh/","/")).replace("/docs","");var a=window.location.pathname.startsWith("/en")?/(\/[A-z]*\/?\/[A-z]*)\/?/:/(\/[A-z]*)\/?/;return e.match(a)[1]}function s(e){var a=[],t=e[0];for(a.push(t.key);t.children;)t=t.children[0],a.push(t.key);return a[a.length-1]}function l(e,a,t){return e.includes("/docs/")||e.includes("/zh/")?e.replace("/docs/","/").replace("/zh/","/"):t.every((function(a){var t="".concat(a).toLowerCase();return![t,"".concat(t,"/")].includes(e.toLowerCase())}))?a:e}t.d(a,{Gd:function(){return l},KI:function(){return i},Xd:function(){return n},iX:function(){return s}})},60744:function(e,a,t){t.r(a),t.d(a,{texts:function(){return n}});const n=[{value:"Scale measures are used to convert map data values ​​(numbers, dates, categories, etc.) into visual variables (color, size, shape). Scales are fundamental elements of data visualization because they determine how data is visually encoded. L7 currently supports common Scales such as continuous, discrete, and enumerated types.",paraId:0,tocIndex:0},{value:"Range and Domain",paraId:1,tocIndex:1},{value:"Domain: definition interval of map data values",paraId:2,tocIndex:1},{value:"Range: interval definition of visual value",paraId:3,tocIndex:1},{value:"The difference between different Scales lies in the different conversion methods of Domain->Range",paraId:4,tocIndex:1},{value:"data class",paraId:5,tocIndex:1},{value:"Measurement type",paraId:5,tocIndex:1},{value:"continuous",paraId:5,tocIndex:1},{value:"linear、log、pow",paraId:5,tocIndex:1},{value:"continuous classification",paraId:5,tocIndex:1},{value:"quantize quantile,threshold,diverging",paraId:5,tocIndex:1},{value:"Classification Enumeration",paraId:5,tocIndex:1},{value:"cat",paraId:5,tocIndex:1},{value:"When using L7, there is no need to configure Scale by default because L7 will infer scale based on the data type. The inference process is as follows:",paraId:6,tocIndex:2},{value:"Check whether the user has set Scale, if not:",paraId:7,tocIndex:2},{value:"Determine the field type of the first data of the field, if the corresponding field does not exist in the data:",paraId:8,tocIndex:2},{value:"Consider a constant as a fixed value",paraId:9,tocIndex:2},{value:"'linear' if numeric;",paraId:10,tocIndex:2},{value:"If it is string type 'cat';",paraId:11,tocIndex:2},{value:"Cat refers to the enumeration type, which is used to display categorical data, such as the distribution of crop planting areas. Different categories such as rice, corn, and soybeans need to be mapped to different colors. In L7, if the value of a field is judged to be a string, it will be considered to be of Cat type and the unique value of the type will be automatically obtained and set to domain. In this way, the three crops will be mapped to the corresponding colors one by one.",paraId:12,tocIndex:3},{value:"const data = [\n   {\n   type:'A',\n   x: 110,\n   y:30\n },\n {\n   type:'B',\n   x: 110,\n   y:32\n },\n {\n   type:'C',\n   x: 110,\n   y:31\n }\n ,{\n   type:'D',\n   x: 111,\n   y:33\n }，\n ,{\n   type:'E',\n   x: 112,\n   y:30\n }\n ,{\n   type:'F',\n   x: 110,\n   y:30\n }\n]\nlayer.color('type',['red','white','blue','yellow'])\n",paraId:13,tocIndex:3},{value:"As shown in the code above, the layer does not set Scale, L7 infers the enumeration type based on the type of the first data \"A\". At the same time, take out all the deduplicated values ​​of the field ['A', 'B', 'C', 'D', 'E', 'F'] and set them to the domain of the scale, then the range is the corresponding color [' red','white','blue','yellow'].",paraId:14,tocIndex:3},{value:"If the domain is not set, L7 will automatically calculate the domain internally, and the domain order is related to the data order. If you want to fix the domain, you can set the domain yourself. There is a one-to-one correspondence between domain values ​​and range values.",paraId:15,tocIndex:3},{value:"layer.scale('type', {\n  type: 'cat',\n  domain: ['B', 'A', 'C', 'D'],\n});\nlayer.color('type', ['red', 'white', 'blue', 'yellow']);\n",paraId:16,tocIndex:3},{value:"Linear is a mapping method for continuous data, where data and visual values ​​are calculated using linear methods. For example, if the data range domain [0,1000] is linearly mapped to the range [red, blue] gradient color, the one-to-one conversion is completed based on the linear function.",paraId:17,tocIndex:4},{value:"layer.color('rate', ['#ffffcc', '#b6e2b6', '#64c1c0', '#338cbb', '#253494']);\n",paraId:18,tocIndex:4},{value:"For continuous\nData L7 is set to linear by default, and domain is the min and max values ​​of the data. The color will generate a gradient color based on the range color. linear\nThe domain interval can not be set by default",paraId:19,tocIndex:4},{value:"layer.scale('value', {\n  type: 'linear',\n  domain: [5, 100], // The domain can be defined or not set. It can be calculated based on the data.\n});\n",paraId:20,tocIndex:4},{value:"Equally spaced classification is divided into several equal-sized subranges based on the attribute value range. Equal intervals work best with common data ranges, such as percentages and temperatures. This method emphasizes the amount of a certain attribute value relative to other values.",paraId:21,tocIndex:5},{value:"Equally spaced classification is only related to the data mix and max. If domain is not set, the min and max of the data will be automatically calculated for segmentation. The number of segments is based on the number of range colors. Empty classes will appear at equal intervals, and each classification element will be unevenly distributed.",paraId:22,tocIndex:5},{value:"layer.color('type', ['red', 'white', 'blue', 'yellow']);\n",paraId:23,tocIndex:5},{value:"You can also customize the domain",paraId:24,tocIndex:5},{value:"layer.scale('value', {\n  type: 'quantize',\n  domain: [5, 100],\n});\n\nlayer.color('type', ['red', 'white', 'blue', 'yellow']);\n",paraId:25,tocIndex:5},{value:"Equiquantiles require that each classification interval contains an equal number of features. Quantiles assign an equal number of data values ​​to each category; there are no empty classes or classes with too many or too few values.",paraId:26,tocIndex:6},{value:"The decile is related to the distribution of the data and needs to be calculated in full amount of data. Therefore, the scale of the decile cannot be set separately and can only be calculated automatically.",paraId:27,tocIndex:6},{value:"layer.scale('value', {\n  type: 'quantile',\n});\n\nlayer.color('value', ['red', 'white', 'blue', 'yellow']);\n",paraId:28,tocIndex:6},{value:"Custom classification can set any classification interval to map to the visual variable. The domain is still contiguous and classified according to the provided domain. The range attribute must have N+1 elements, where N is the number of domains.",paraId:29,tocIndex:7},{value:"Threshold is a custom segment. When using it, you must set the domain for Scale. The domain can be set arbitrarily according to your needs.",paraId:30,tocIndex:7},{value:"layer\n  .scale('rate', {\n    type: 'threshold',\n    domain: [3, 6, 8, 10],\n  })\n  .color('rate', ['#ffffcc', '#b6e2b6', '#64c1c0', '#338cbb', '#253494']);\n",paraId:31,tocIndex:7},{value:"Discrete classification is often used with two opposite hues to show the change from negative values ​​to center to positive values. These types of maps show the magnitude of values ​​in relation to each other.",paraId:32,tocIndex:8},{value:"If diverging does not set the domain, it will automatically calculate the three values ​​of min, middle, and max based on the data as the domain. Range needs to set at least three colors to form a bipolar color band.",paraId:33,tocIndex:8},{value:"layer.scale('rate', {\n         type: 'diverging'\n         domain: [3, 6, 8, 10], //  the input domain and output range of a diverging scal\n       })\n       .color('rate', ['#ffffcc', '#b6e2b6', '#64c1c0', '#338cbb', '#253494'])\n",paraId:34,tocIndex:8}]}}]);