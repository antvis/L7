"use strict";(self.webpackChunk_antv_l7_site=self.webpackChunk_antv_l7_site||[]).push([[305],{22535:function(e,a,t){t.r(a);t(35164),t(43801),t(6974),t(27068),t(12520);var n=t(7808),r=(t(19480),t(64700),t(12318),t(99500)),s=t(13273),l=t(92379),d=t(20212),i=t(651);a.default=function(){return(0,i.jsx)(r.dY,{children:(0,i.jsx)(l.Suspense,{fallback:(0,i.jsx)(s.Z,{}),children:(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"markdown",children:[(0,i.jsxs)("h3",{id:"data",children:[(0,i.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#data",children:(0,i.jsx)("span",{className:"icon icon-link"})}),"data"]}),(0,i.jsx)("p",{children:d.texts[0].value}),(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:d.texts[1].value}),(0,i.jsx)("li",{children:d.texts[2].value})]}),(0,i.jsxs)("h4",{id:"single-file-multiple-bands",children:[(0,i.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#single-file-multiple-bands",children:(0,i.jsx)("span",{className:"icon icon-link"})}),"Single file multiple bands"]}),(0,i.jsx)("p",{children:d.texts[3].value}),(0,i.jsx)(n.Z,{lang:"ts",children:d.texts[4].value}),(0,i.jsxs)("h3",{id:"parser",children:[(0,i.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#parser",children:(0,i.jsx)("span",{className:"icon icon-link"})}),"parser"]}),(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:d.texts[5].value}),(0,i.jsx)("li",{children:d.texts[6].value})]}),(0,i.jsx)("p",{children:d.texts[7].value}),(0,i.jsx)(n.Z,{lang:"javascript",children:d.texts[8].value}),(0,i.jsx)("p",{children:d.texts[9].value}),(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:d.texts[10].value}),(0,i.jsx)("li",{children:d.texts[11].value})]}),(0,i.jsx)(n.Z,{lang:"js",children:d.texts[12].value}),(0,i.jsxs)("h4",{id:"parser-1",children:[(0,i.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#parser-1",children:(0,i.jsx)("span",{className:"icon icon-link"})}),"parser"]}),(0,i.jsx)("p",{children:(0,i.jsxs)("description",{children:[d.texts[13].value,(0,i.jsx)("em",{children:d.texts[14].value}),d.texts[15].value,(0,i.jsx)("strong",{children:d.texts[16].value}),d.texts[17].value]})}),(0,i.jsx)("p",{children:d.texts[18].value}),(0,i.jsx)(n.Z,{lang:"js",children:d.texts[19].value}),(0,i.jsxs)("h5",{id:"type",children:[(0,i.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#type",children:(0,i.jsx)("span",{className:"icon icon-link"})}),"type"]}),(0,i.jsx)("p",{children:(0,i.jsxs)("description",{children:[d.texts[20].value,(0,i.jsx)("em",{children:d.texts[21].value}),d.texts[22].value,(0,i.jsx)("strong",{children:d.texts[23].value}),d.texts[24].value]})}),(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:d.texts[25].value}),(0,i.jsx)("li",{children:d.texts[26].value})]}),(0,i.jsxs)("h5",{id:"format-irasterformat",children:[(0,i.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#format-irasterformat",children:(0,i.jsx)("span",{className:"icon icon-link"})}),"format: IRasterFormat"]}),(0,i.jsx)("p",{children:(0,i.jsxs)("description",{children:[d.texts[27].value,(0,i.jsx)("em",{children:d.texts[28].value}),d.texts[29].value,(0,i.jsx)("strong",{children:d.texts[30].value}),d.texts[31].value]})}),(0,i.jsxs)("p",{children:[(0,i.jsx)("code",{children:d.texts[32].value}),d.texts[33].value]}),(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:d.texts[34].value}),(0,i.jsxs)("li",{children:[d.texts[35].value,(0,i.jsx)("code",{children:d.texts[36].value}),d.texts[37].value,(0,i.jsx)("code",{children:d.texts[38].value}),d.texts[39].value]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("code",{children:d.texts[40].value}),d.texts[41].value,(0,i.jsx)("code",{children:d.texts[42].value}),d.texts[43].value]})]}),(0,i.jsx)(n.Z,{lang:"js",children:d.texts[44].value}),(0,i.jsxs)("ol",{children:[(0,i.jsxs)("li",{children:[(0,i.jsx)("code",{children:d.texts[45].value}),d.texts[46].value,(0,i.jsx)("code",{children:d.texts[47].value}),d.texts[48].value,(0,i.jsx)("code",{children:d.texts[49].value}),d.texts[50].value,(0,i.jsx)("code",{children:d.texts[51].value}),d.texts[52].value]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("code",{children:d.texts[53].value}),d.texts[54].value]})]}),(0,i.jsxs)("h5",{id:"operation-ioperation",children:[(0,i.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#operation-ioperation",children:(0,i.jsx)("span",{className:"icon icon-link"})}),"operation: IOperation"]}),(0,i.jsx)("p",{children:(0,i.jsxs)("description",{children:[d.texts[55].value,(0,i.jsx)("em",{children:d.texts[56].value}),d.texts[57].value,(0,i.jsx)("strong",{children:d.texts[58].value}),d.texts[59].value]})}),(0,i.jsxs)("p",{children:[d.texts[60].value,(0,i.jsx)("code",{children:d.texts[61].value}),d.texts[62].value]}),(0,i.jsxs)("p",{children:[d.texts[63].value,(0,i.jsx)("code",{children:d.texts[64].value}),d.texts[65].value]}),(0,i.jsx)("ol",{children:(0,i.jsxs)("li",{children:[(0,i.jsx)("code",{children:d.texts[66].value}),d.texts[67].value,(0,i.jsx)("code",{children:d.texts[68].value}),d.texts[69].value]})}),(0,i.jsx)(n.Z,{lang:"js",children:d.texts[70].value}),(0,i.jsx)("ol",{start:"2",children:(0,i.jsxs)("li",{children:[(0,i.jsx)("code",{children:d.texts[71].value}),d.texts[72].value]})}),(0,i.jsx)(n.Z,{lang:"js",children:d.texts[73].value}),(0,i.jsxs)("ol",{start:"3",children:[(0,i.jsx)("li",{children:(0,i.jsxs)("p",{children:[(0,i.jsx)("code",{children:d.texts[74].value}),d.texts[75].value,(0,i.jsx)("code",{children:d.texts[76].value}),d.texts[77].value,(0,i.jsx)("code",{children:d.texts[78].value}),d.texts[79].value]})}),(0,i.jsx)("li",{children:(0,i.jsxs)("p",{children:[(0,i.jsx)("code",{children:d.texts[80].value}),d.texts[81].value,(0,i.jsx)("code",{children:d.texts[82].value}),d.texts[83].value]})}),(0,i.jsx)("li",{children:(0,i.jsxs)("p",{children:[(0,i.jsx)("code",{children:d.texts[84].value}),d.texts[85].value]})})]}),(0,i.jsx)(n.Z,{lang:"js",children:d.texts[86].value}),(0,i.jsxs)("h5",{id:"extent",children:[(0,i.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#extent",children:(0,i.jsx)("span",{className:"icon icon-link"})}),"extent"]}),(0,i.jsx)("p",{children:(0,i.jsxs)("description",{children:[d.texts[87].value,(0,i.jsx)("em",{children:d.texts[88].value}),d.texts[89].value,(0,i.jsx)("strong",{children:d.texts[90].value}),d.texts[91].value]})}),(0,i.jsxs)("p",{children:[(0,i.jsx)("code",{children:d.texts[92].value}),d.texts[93].value]}),(0,i.jsxs)("h3",{id:"loading-multi-channel-color-images",children:[(0,i.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#loading-multi-channel-color-images",children:(0,i.jsx)("span",{className:"icon icon-link"})}),"Loading multi-channel (color) images"]}),(0,i.jsx)("p",{children:d.texts[94].value}),(0,i.jsxs)("div",{children:[d.texts[95].value,(0,i.jsxs)("div",{style:{width:"60%",float:"left",margin:"10px"},children:[d.texts[96].value,(0,i.jsx)("img",{width:"80%",alt:"æ¡ˆä¾‹",src:"https://gw.alipayobjects.com/mdn/rms_816329/afts/img/A*jO7kTpuDiOQAAAAAAAAAAAAAARQnAQ"}),d.texts[97].value]})]}),(0,i.jsxs)("h4",{id:"data-ibandsdata--ibandsdata",children:[(0,i.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#data-ibandsdata--ibandsdata",children:(0,i.jsx)("span",{className:"icon icon-link"})}),"data: IBandsData[] | IBandsData"]}),(0,i.jsx)("p",{children:d.texts[98].value}),(0,i.jsxs)("h4",{id:"parser-2",children:[(0,i.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#parser-2",children:(0,i.jsx)("span",{className:"icon icon-link"})}),"parser"]}),(0,i.jsxs)("p",{children:[d.texts[99].value,(0,i.jsx)("code",{children:d.texts[100].value}),d.texts[101].value]}),(0,i.jsxs)("h5",{id:"type-1",children:[(0,i.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#type-1",children:(0,i.jsx)("span",{className:"icon icon-link"})}),"type"]}),(0,i.jsx)("p",{children:(0,i.jsxs)("description",{children:[d.texts[102].value,(0,i.jsx)("em",{children:d.texts[103].value}),d.texts[104].value,(0,i.jsx)("strong",{children:d.texts[105].value}),d.texts[106].value]})}),(0,i.jsx)("ul",{children:(0,i.jsxs)("li",{children:[d.texts[107].value,(0,i.jsx)("code",{children:d.texts[108].value}),d.texts[109].value]})}),(0,i.jsxs)("h5",{id:"format-irasterformat-1",children:[(0,i.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#format-irasterformat-1",children:(0,i.jsx)("span",{className:"icon icon-link"})}),"format: IRasterFormat"]}),(0,i.jsx)("p",{children:(0,i.jsxs)("description",{children:[d.texts[110].value,(0,i.jsx)("em",{children:d.texts[111].value}),d.texts[112].value,(0,i.jsx)("strong",{children:d.texts[113].value}),d.texts[114].value]})}),(0,i.jsxs)("p",{children:[d.texts[115].value,(0,i.jsx)("code",{children:d.texts[116].value}),d.texts[117].value]}),(0,i.jsxs)("h5",{id:"operation-ioperation-1",children:[(0,i.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#operation-ioperation-1",children:(0,i.jsx)("span",{className:"icon icon-link"})}),"operation: IOperation"]}),(0,i.jsx)("p",{children:(0,i.jsxs)("description",{children:[d.texts[118].value,(0,i.jsx)("em",{children:d.texts[119].value}),d.texts[120].value,(0,i.jsx)("strong",{children:d.texts[121].value}),d.texts[122].value]})}),(0,i.jsxs)("p",{children:[d.texts[123].value,(0,i.jsx)("code",{children:d.texts[124].value}),d.texts[125].value]}),(0,i.jsxs)("ol",{children:[(0,i.jsx)("li",{children:(0,i.jsx)("p",{children:d.texts[126].value})}),(0,i.jsx)("li",{children:(0,i.jsx)("p",{children:d.texts[127].value})})]}),(0,i.jsx)(n.Z,{lang:"js",children:d.texts[128].value})]})})})})}},53980:function(e,a,t){t.d(a,{G:function(){return u}});var n=t(97502),r=t(99500),s=(t(92379),"d8ttRdvsaeIwjsXPUrV3"),l="YWbojl5X0YI9jR8WQ6vF",d="nHrVcWv4dgQMNfb_O3dk",i="kLT5PvcX6twH_8KM1K4Y",c="HdNrro6Kmg0q9gTP4YLJ",o=t(651);var u=function(e){var a,t=e.isPlayground,u=e.exampleId,x=e.header,h=e.error;return(0,o.jsxs)("div",{className:s,children:[t?null:(0,o.jsx)("div",{className:l,children:x}),(0,o.jsxs)("div",{className:d,children:[(0,o.jsx)("div",{id:"playgroundScriptContainer_".concat(u),className:i}),h?(0,o.jsx)(n.ZP,{className:c,status:"error",title:(0,o.jsx)(r._H,{id:"æ¼”ç¤ºä»£ç æŠ¥é”™ï¼Œè¯·æ£€æŸ¥"}),subTitle:(0,o.jsx)("pre",{children:(a=h,(a.reason?a.reason:a.message?a.message:a).toString())})}):null]})]})}},19298:function(e,a,t){t.d(a,{S:function(){return N}});var n=t(28633),r=t.n(n),s=t(5572),l=t(49377),d=t(23622),i=t(99500),c=t(35510),o=t(92379),u=t(4667),x=t(53980),h=t(8131),p=t(95913),v=t(32686),I=t(29318),f=t(52486),j=t(65879),m=t.n(j),g=t(72916),b=t(54014),y={},w=t(651),A=function(e){var a=e.title,t=e.relativePath,n=e.githubUrl,r=(0,i.WF)().themeConfig.relativePath;(0,b.KI)(),new(m())(location.href);return(0,w.jsx)(p.Z,{ghost:!1,title:a,subTitle:(0,w.jsx)(v.Z,{title:(0,w.jsx)(i._H,{id:"åœ¨ GitHub ä¸Šç¼–è¾‘"}),children:(0,w.jsx)("a",{href:function(e){var a=e.githubUrl,t=e.relativePath;e.prefix;return"".concat(a,"/edit/master/").concat(r,"/examples/").concat(t)}({githubUrl:n,relativePath:t,prefix:"examples"}),target:"_blank",rel:"noopener noreferrer",className:y.editOnGtiHubButton,children:(0,w.jsx)(h.Z,{})})}),extra:(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(I.Z,{split:(0,w.jsx)(f.Z,{type:"vertical"})}),(0,w.jsx)(g.Z,{})]})})},k=t(24325),Z=t.n(k),T=t(72725);function D(e,a,t,n){var r=function(e){var a=new Map;return(0,T.Z)(e,(function(e){(0,T.Z)(e.examples,(function(t){(0,T.Z)(t.demos,(function(n){a.set("".concat(e.id,"-").concat(t.id,"-").concat(n.id),Z()(Z()({},n),{},{relativePath:"".concat(e.id,"/").concat(t.id,"/demo/").concat(n.filename),targetExample:t,targetTopic:e}))}))}))})),a}(e);return r.get("".concat(a,"-").concat(t,"-").concat(n))}var N=function(e){var a=e.exampleTopics,t=e.topic,n=e.example,h=e.demo,p=e.size,v=e.replaceId,I=e.isPlayground,f=e.notFound,j=void 0===f?(0,w.jsx)(s.T,{}):f,m=D(a,t,n,h);if(!m)return j;var g=m.title,b=m.source,y=m.relativePath,k=(0,i.WF)().themeConfig,Z=k.githubUrl,T=k.playground,N=(0,o.useState)(),P=r()(N,2),S=P[0],_=P[1],R=(0,o.useState)(!1),M=r()(R,2),W=(M[0],M[1]),C=((0,i.bU)(),(0,w.jsx)(A,{title:(0,d.ic)(g),relativePath:y,githubUrl:Z})),z="".concat(t,"_").concat(n,"_").concat(h);return(0,w.jsxs)(u.Z,{split:"vertical",defaultSize:"".concat(100*(1-p),"%"),minSize:100,children:[(0,w.jsx)(x.G,{exampleId:z,error:S,header:C,isPlayground:I}),(0,w.jsx)(l.p,{exampleId:z,source:b,relativePath:y,replaceId:v,onError:_,onFullscreen:W,onDestroy:c.Z,onReady:c.Z,playground:T})]})}},72916:function(e,a,t){var n=t(35957),r=(t(92379),t(48229)),s=t(651),l=function(){return(0,s.jsx)("img",{width:16,style:{margin:"5px"},src:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*iDSwRorar_QAAAAAAAAAAAAADmJ7AQ/original",alt:"react ç»„ä»¶åº“"})};a.Z=function(e){e.readingTime;return(0,s.jsxs)("div",{style:{float:"right",display:"flex",gap:"10px"},children:[(0,s.jsx)(r.Z,{href:"https://github.com/antvis/L7/issues/new","data-icon":"octicon-issue-opened","data-size":"large","data-show-count":"true","aria-label":"Issue antvis/l7 on GitHub",children:"åé¦ˆé—®é¢˜"}),(0,s.jsx)(r.Z,{href:"https://github.com/antvis/l7","data-icon":"octicon-star","data-size":"large","data-show-count":"true","aria-label":"Star antvis/l7 on GitHub",children:"å…³æ³¨é¡¹ç›®"}),(0,s.jsx)(n.Z,{icon:(0,s.jsx)(l,{}),style:{fontWeight:600,height:"30px",padding:"1px 6px"},target:"blank",href:"https://larkmap.antv.antgroup.com/components/lark-map",children:"React ç»„ä»¶åº“"})]})}},54014:function(e,a,t){function n(){for(var e=window.location.pathname.replace("/docs/","/").replace("/zh/","/").split("/"),a=[],t=e.length;t>0;t--){var n=e.slice(0,t);a.push(n.join("/"))}return a}function r(){var e=window.location.pathname;e=(e=e.replace("/zh/","/")).replace("/docs","");var a=window.location.pathname.startsWith("/en")?/(\/[A-z]*\/?\/[A-z]*)\/?/:/(\/[A-z]*)\/?/;return e.match(a)[1]}function s(e){var a=[],t=e[0];for(a.push(t.key);t.children;)t=t.children[0],a.push(t.key);return a[a.length-1]}function l(e,a,t){return e.includes("/docs/")||e.includes("/zh/")?e.replace("/docs/","/").replace("/zh/","/"):t.every((function(a){var t="".concat(a).toLowerCase();return![t,"".concat(t,"/")].includes(e.toLowerCase())}))?a:e}t.d(a,{Gd:function(){return l},KI:function(){return r},Xd:function(){return n},iX:function(){return s}})},20212:function(e,a,t){t.r(a),t.d(a,{texts:function(){return n}});const n=[{value:"Multi-band supports two data methods. The raster data coordinate system only supports 3857 projected rasters.",paraId:0,tocIndex:0},{value:"Single file multiple bands",paraId:1,tocIndex:0},{value:"Multiple single-band files form multi-band",paraId:1,tocIndex:0},{value:"data is unparsed tiff arraybuffer data, which is standardized by format in parser",paraId:2,tocIndex:1},{value:"const url1 = 'https://gw.alipayobjects.com/zos/raptor/1667832825992/LC08_3857_clip_2.tif';\n  async function getTiffData(url: string) {\n  const response = await fetch(url);\n  const arrayBuffer = await response.arrayBuffer();\n  return arrayBuffer;\n  }\n}\nlayer.source(\n    [\n    {\n        data: tiffdata,\n        bands: [6, 5, 2].map((v) => v - 1),\n    },\n    ],\n    {\n    parser: {\n        type: 'rasterRgb',\n        format: async (data, bands) => {\n        const tiff = await GeoTIFF.fromArrayBuffer(data);\n        const image1 = await tiff.getImage();\n        const value = await image1.readRasters();\n        return bands.map((band) => {\n            return {\n            rasterData: value[band],\n            width: value.width,\n            height: value.height,\n            };\n        });\n        },\n        operation: {\n        type: 'rgb',\n        },\n        extent: [\n        130.39565357746957, 46.905730725742366, 130.73364094187343,\n        47.10217234153133,\n        ],\n    },\n    },\n)\n",paraId:3,tocIndex:1},{value:"type: raster",paraId:4,tocIndex:2},{value:"extent: the latitude and longitude range of the raster [minlng, minlat,maxLng, maxLat]",paraId:4,tocIndex:2},{value:"Add raster data to the map based on its latitude and longitude range.",paraId:5,tocIndex:2},{value:"layer.source(rasterData, {\n  parser: {\n    type: 'raster',\n    extent: [121.168, 30.2828, 121.384, 30.4219],\n  },\n});\n",paraId:6,tocIndex:2},{value:"Users can directly pass in the binary data of the raster file.",paraId:7,tocIndex:2},{value:"Supports transferring data from multiple files.",paraId:8,tocIndex:2},{value:"Supports specifying the bands to be extracted from a raster file.",paraId:8,tocIndex:2},{value:"interface IBandsData {\n  data: ArrayBuffer; // Request the binary data of the loaded raster file\n  bands?: number[]; // Specify the bands to load the raster file\n}\n//Load the data of band 0 by default\nconst source = new Source({ data: tiffData });\n//Specify to load the data of tiffData 0 band\n//Specify to load the data of band 0 and 1 of tiffData2\nconst source2 = new Source([\n  { data: tiffData, bands: [0] },\n  { data: tiffData2, bands: [0, 1] },\n]);\n",paraId:9,tocIndex:2},{value:" ",paraId:10,tocIndex:3},{value:"IParser",paraId:10,tocIndex:3},{value:" ",paraId:10,tocIndex:3},{value:"required",paraId:10,tocIndex:3},{value:" ",paraId:10,tocIndex:3},{value:"Provides the necessary parameters and methods for working with raster data.",paraId:11,tocIndex:3},{value:"interface IParser {\n  type: string;\n  format: IRasterFormat;\n  operation: IOperation;\n  extent: number[];\n}\n",paraId:12,tocIndex:3},{value:" ",paraId:13,tocIndex:4},{value:"string",paraId:13,tocIndex:4},{value:" ",paraId:13,tocIndex:4},{value:"required",paraId:13,tocIndex:4},{value:" ",paraId:13,tocIndex:4},{value:"When the output result is single-channel data, the value is raster",paraId:14,tocIndex:4},{value:"When the output result is multi-channel color, the value is rasterRgb.",paraId:14,tocIndex:4},{value:" ",paraId:15,tocIndex:5},{value:"IFormat",paraId:15,tocIndex:5},{value:" ",paraId:15,tocIndex:5},{value:"required",paraId:15,tocIndex:5},{value:" ",paraId:15,tocIndex:5},{value:"format",paraId:16,tocIndex:5},{value:"Method used to extract band data from the incoming raster file binary data.",paraId:16,tocIndex:5},{value:"The first parameter is the raster file binary data.",paraId:17,tocIndex:5},{value:"The second parameter is the band that should be extracted from the raster file specified by the first parameter. The method parameter is what we pass",paraId:17,tocIndex:5},{value:"source",paraId:17,tocIndex:5},{value:"parameters passed",paraId:17,tocIndex:5},{value:"data",paraId:17,tocIndex:5},{value:"numerical value.",paraId:17,tocIndex:5},{value:"format",paraId:17,tocIndex:5},{value:"Is a",paraId:17,tocIndex:5},{value:"async",paraId:17,tocIndex:5},{value:"method.",paraId:17,tocIndex:5},{value:"interface IRasterData {\n  rasterData: HTMLImageElement | Uint8Array | ImageBitmap | null | undefined;\n  width: number;\n  height: number;\n}\ntype IRasterFormat = (\n  data: ArrayBuffer,\n  bands: number[],\n) => Promise<IRasterData | IRasterData[]>;\n\nconst source = new Source(data, {\n  parser: {\n    format: async (data, bands) => {\n      ...\n      return {\n        rasterData: bandData,\n        width: 256;\n        height: 256;\n      }\n    }\n  }\n})\n",paraId:18,tocIndex:5},{value:"format",paraId:19,tocIndex:5},{value:"The return value of the method is raster data (",paraId:19,tocIndex:5},{value:"rasterData",paraId:19,tocIndex:5},{value:") and the size",paraId:19,tocIndex:5},{value:"width",paraId:19,tocIndex:5},{value:"ã€",paraId:19,tocIndex:5},{value:"height",paraId:19,tocIndex:5},{value:"parameter.",paraId:19,tocIndex:5},{value:"format",paraId:19,tocIndex:5},{value:"The method can return multiple copies of data, indicating that multiple band data are extracted from the current raster file.",paraId:19,tocIndex:5},{value:" ",paraId:20,tocIndex:6},{value:"IOperation",paraId:20,tocIndex:6},{value:" ",paraId:20,tocIndex:6},{value:"Optional",paraId:20,tocIndex:6},{value:" ",paraId:20,tocIndex:6},{value:"When loading multi-band data we can pass",paraId:21,tocIndex:6},{value:"operation",paraId:21,tocIndex:6},{value:"Configure the operation of band data.",paraId:21,tocIndex:6},{value:"ðŸŒŸ We donâ€™t need to configure it",paraId:22,tocIndex:6},{value:"operation",paraId:22,tocIndex:6},{value:", the first band data extracted from the first raster file is used by default.",paraId:22,tocIndex:6},{value:"operation",paraId:23,tocIndex:6},{value:"can be a function,",paraId:23,tocIndex:6},{value:"allbands",paraId:23,tocIndex:6},{value:"is the collection of all band data we extracted from all raster files.",paraId:23,tocIndex:6},{value:"const parser = {\n  operation: (allBands) => {\n    // operation can be a function, allbands is the collection of all band data we extract from all raster files,\n    // When setting up allbands, it is [band0]\n    //The return value of the function is pure band data. Here we directly return the first band data.\n    return allBands[0].rasterData;\n  },\n};\n",paraId:24,tocIndex:6},{value:"operation",paraId:25,tocIndex:6},{value:"Can be a calculation expression in the form of an array.",paraId:25,tocIndex:6},{value:"//The following expression can be paraphrased as band1 * 0.5, which means multiplying the values â€‹â€‹of band 1 by 0.5 and returning\nconst parser = {\n  operation: ['*', ['band', 1], 0.5],\n};\n",paraId:26,tocIndex:6},{value:"operation",paraId:27,tocIndex:6},{value:"Can be used nested:",paraId:27,tocIndex:6},{value:"['+', ['*', ['band', 0], 0.2], ['band', 1]]]",paraId:27,tocIndex:6},{value:", the return result is:",paraId:27,tocIndex:6},{value:"band0 * 0.2 + band1",paraId:27,tocIndex:6},{value:"ã€‚",paraId:27,tocIndex:6},{value:"operation",paraId:28,tocIndex:6},{value:"The result can be specified directly:",paraId:28,tocIndex:6},{value:"['band', 0]",paraId:28,tocIndex:6},{value:"ã€‚",paraId:28,tocIndex:6},{value:"operation",paraId:29,tocIndex:6},{value:"The following mathematical operations are supported.",paraId:29,tocIndex:6},{value:"/** Mathematical operations Perform mathematical operations based on calculation expressions\n * * * Math operators:\n * `['*', value1, value2]` returns `value1 * value2`\n * `['/', value1, value2]` returns `value1 / value2`\n * `['+', value1, value2]` returns `value1 + value2`\n * `['-', value1, value2]` returns `value2 - value1`\n * `['%', value1, value2]` returns `value1 % value2`\n * `['^', value1, value2]` returns `value1 ^ value2`\n * `['abs', value1]` returns `Math.abs(value1)`\n * `['floor', value1]` returns `Math.floor(value1)`\n * `['round', value1]` returns `Math.round(value1)`\n * `['ceil', value1]` returns `Math.ceil(value1)`\n * `['sin', value1]` returns `Math.sin(value1)`\n * `['cos', value1]` returns `Math.cos(value1)`\n * `['atan', value1, value2]` returns `n1===-1?Math.atan(n1): Math.atan2(n1, n2)`\n */\n",paraId:30,tocIndex:6},{value:" ",paraId:31,tocIndex:7},{value:"number[]",paraId:31,tocIndex:7},{value:" ",paraId:31,tocIndex:7},{value:"required",paraId:31,tocIndex:7},{value:" ",paraId:31,tocIndex:7},{value:"extent",paraId:32,tocIndex:7},{value:"It describes the geographical interval covered by the raster data, and the numerical value specifies the longitude and latitude interval (lower left corner and upper right corner) of the area.",paraId:32,tocIndex:7},{value:"When using multi-band data, we support drawing color remote sensing images based on multi-band data, such as the false color image below.",paraId:33,tocIndex:8},{value:"\n  ",paraId:34},{value:"\n    ",paraId:34},{value:"\n  ",paraId:34},{value:"When drawing multi-channel images, multi-band data needs to be loaded",paraId:35,tocIndex:9},{value:"Provides necessary parameters and methods for using raster data, specific uses and multi-band rasters.",paraId:36,tocIndex:10},{value:"parser",paraId:36,tocIndex:10},{value:"be consistent.",paraId:36,tocIndex:10},{value:" ",paraId:37,tocIndex:11},{value:"string",paraId:37,tocIndex:11},{value:" ",paraId:37,tocIndex:11},{value:"required",paraId:37,tocIndex:11},{value:" ",paraId:37,tocIndex:11},{value:"When the output result is multi-channel color, the value is",paraId:38,tocIndex:11},{value:"rasterRgb",paraId:38,tocIndex:11},{value:"ã€‚",paraId:38,tocIndex:11},{value:" ",paraId:39,tocIndex:12},{value:"IFormat",paraId:39,tocIndex:12},{value:" ",paraId:39,tocIndex:12},{value:"required",paraId:39,tocIndex:12},{value:" ",paraId:39,tocIndex:12},{value:"When drawing multi-channel images, use the general",paraId:40,tocIndex:12},{value:"format",paraId:40,tocIndex:12},{value:"function.",paraId:40,tocIndex:12},{value:" ",paraId:41,tocIndex:13},{value:"IOperation",paraId:41,tocIndex:13},{value:" ",paraId:41,tocIndex:13},{value:"required",paraId:41,tocIndex:13},{value:" ",paraId:41,tocIndex:13},{value:"In order to draw multi-channel images, we must provide",paraId:42,tocIndex:13},{value:"operation",paraId:42,tocIndex:13},{value:"Configure specified multi-channel data.",paraId:42,tocIndex:13},{value:"When rendering a color multi-channel raster, you need to use an additional parser. At the same time, the color raster layer no longer supports parameters such as domain and rampColor. The rendering result is directly controlled by the numerical results of the r, g, and b channels calculated by the band.",paraId:43,tocIndex:13},{value:"Colored rasters are no longer compatible with the old data value transfer method (pass in the parsed raster data directly.",paraId:44,tocIndex:13},{value:"const source = new Source(data, { // Colored rasters and single-channel rasters use the same rules\n  parser: {\n    type: 'rasterRgb', // use independent type type\n    format: async (data, bands) {...}, // Colored rasters and single-channel rasters use the same format\n    // operation is an object, specifying calculation expressions for the three rgb channels respectively.\n    // operation must be configured\n    operation: {\n      r: ['*', ['band', 1], 0.5],\n      g: ['band', 1],\n      b: undefined // The channel of the default configuration expression will take the value of band 0 by default\n    }\n  }\n",paraId:45,tocIndex:13}]}}]);