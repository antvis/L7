name: ğŸ¤– Sync to Gitee Mirror

on: [push]

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: ğŸ” Sync to Gitee
        uses: wearerequired/git-mirror-action@master
        env:
          # æ³¨æ„åœ¨ Settings->Secrets é…ç½® GITEE_RSA_PRIVATE_KEY
          SSH_PRIVATE_KEY: ${{ secrets.GITEE_RSA_PRIVATE_KEY }}
        with:
          # æ³¨æ„æ›¿æ¢ä¸ºä½ çš„ GitHub æºä»“åº“åœ°å€
          source-repo: 'git@github.com:antvis/L7.git'
          # æ³¨æ„æ›¿æ¢ä¸ºä½ çš„ Gitee ç›®æ ‡ä»“åº“åœ°å€
          destination-repo: 'git@gitee.com:antv-l7/antv-l7.git'

      - name: âœ… Build Gitee Pages
        uses: yanglbme/gitee-pages-action@master
        with:
          # æ³¨æ„æ›¿æ¢ä¸ºä½ çš„ Gitee ç”¨æˆ·å
          gitee-username: thinkgis
          # æ³¨æ„åœ¨ Settings->Secrets é…ç½® GITEE_PASSWORD
          gitee-password: ${{ secrets.04ca6940-db4e-013a-ebdc-225acbb50d8a }}
          # æ³¨æ„æ›¿æ¢ä¸ºä½ çš„ Gitee ä»“åº“
          gitee-repo: antv-l7/antv-l7
          # è¦éƒ¨ç½²çš„åˆ†æ”¯
          branch: gh-pages
