<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>L7 IE</title>
    <style>
      html,
      body {
        overflow: hidden;
        margin: 0;
      }
      #map {
        position: absolute;
        top: 0;
        bottom: 0;
        width: 100%;
      }
    </style>
    <link href="https://api.mapbox.com/mapbox-gl-js/v1.8.0/mapbox-gl.css" rel="stylesheet" />
  </head>
  <body>
    <div id="map"></div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-polyfill/7.8.3/polyfill.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/symbol-es6@0.1.2/symbol-es6.min.js"></script>

    <script src="../dist/l7.js"></script>
    <script>
      console.log(L7);
      const scene = new L7.Scene({
        id: 'map',
        map: new L7.Map({
          style: 'dark', // 样式URL
          center: [110, 19.1],
          pitch: 0,
          zoom: 7,
        }),
      });

      const data = {
        list: [
          { w: 19.1, t: 24.6, s: '海南', l: 11, m: '东方', j: 108.6167, h: '59838' },
          { w: 20.0, t: 23.8, s: '海南', l: 11, m: '海口', j: 110.25, h: '59758' },
          { w: 22.275, t: 23.6, s: '广东', l: 12, m: '珠海', j: 113.5669, h: '59488' },
          { w: 20.3372, t: 23.4, s: '广东', l: 12, m: '徐闻', j: 110.1794, h: '59754' },
          { w: 19.2089, t: 23.2, s: '海南', l: 12, m: '琼海', j: 110.4819, h: '59855' },
          { w: 21.7358, t: 23.2, s: '广东', l: 11, m: '上川岛', j: 112.7731, h: '59673' },
          { w: 23.3853, t: 23.0, s: '广东', l: 11, m: '汕头', j: 116.6792, h: '59316' },
          { w: 22.5417, t: 23.0, s: '广东', l: 12, m: '深圳', j: 114.0033, h: '59493' },
          { w: 19.5167, t: 22.9, s: '海南', l: 12, m: '儋州', j: 109.5833, h: '59845' },
          { w: 21.1547, t: 22.7, s: '广东', l: 12, m: '湛江', j: 110.3022, h: '59658' },
          { w: 21.45, t: 22.7, s: '广西', l: 12, m: '北海', j: 109.1333, h: '59644' },
          { w: 22.5, t: 22.6, s: '广东', l: 12, m: '中山', j: 113.4, h: '59485' },
          { w: 21.8453, t: 22.6, s: '广东', l: 12, m: '阳江', j: 111.9783, h: '59663' },
          { w: 22.3469, t: 22.6, s: '广东', l: 12, m: '信宜', j: 110.925, h: '59456' },
          { w: 22.8, t: 22.5, s: '广东', l: 12, m: '汕尾', j: 115.3667, h: '59501' },
          { w: 23.4275, t: 22.3, s: '广东', l: 12, m: '南澳', j: 117.0292, h: '59324' },
          { w: 22.71, t: 22.3, s: '广东', l: 12, m: '罗定', j: 111.6, h: '59462' },
          { w: 19.0333, t: 22.3, s: '海南', l: 12, m: '琼中', j: 109.8333, h: '59849' },
          { w: 21.5458, t: 22.2, s: '广东', l: 11, m: '电白', j: 110.9886, h: '59664' },
          { w: 22.9661, t: 21.9, s: '广东', l: 12, m: '东莞', j: 113.7389, h: '59289' },
          { w: 22.2472, t: 21.8, s: '广东', l: 12, m: '台山', j: 112.7858, h: '59478' },
          { w: 22.9836, t: 21.6, s: '广东', l: 12, m: '惠来', j: 116.3014, h: '59317' },
          { w: 22.9906, t: 21.0, s: '广东', l: 12, m: '高要', j: 112.4786, h: '59278' },
          { w: 23.9, t: 20.8, s: '广西', l: 12, m: '百色', j: 106.6, h: '59211' },
          { w: 23.0711, t: 20.4, s: '广东', l: 12, m: '惠阳', j: 114.3744, h: '59298' },
          { w: 23.4497, t: 20.4, s: '广东', l: 12, m: '揭西', j: 115.8492, h: '59306' },
          { w: 23.3353, t: 20.4, s: '广东', l: 11, m: '增城', j: 113.8275, h: '59294' },
          { w: 23.4167, t: 19.9, s: '广西', l: 12, m: '那坡', j: 105.8333, h: '59209' },
          { w: 24.9, t: 19.7, s: '福建', l: 11, m: '崇武', j: 118.9167, h: '59133' },
          { w: 24.4833, t: 19.7, s: '福建', l: 12, m: '厦门', j: 118.0667, h: '59134' },
          { w: 23.7936, t: 19.6, s: '广东', l: 12, m: '河源', j: 114.7297, h: '59293' },
          { w: 23.7106, t: 19.4, s: '广东', l: 12, m: '清远', j: 113.085, h: '59280' },
          { w: 23.1, t: 19.4, s: '广西', l: 12, m: '靖西', j: 106.45, h: '59218' },
          { w: 23.6, t: 19.4, s: '广西', l: 13, m: '田东', j: 107.1167, h: '59224' },
          { w: 25.5167, t: 19.2, s: '福建', l: 12, m: '平潭', j: 119.7833, h: '58944' },
          { w: 25.05, t: 19.2, s: '福建', l: 12, m: '龙岩', j: 117.0167, h: '58927' },
          { w: 23.21, t: 19.0, s: '广东', l: 12, m: '广州', j: 113.4822, h: '59287' },
          { w: 21.9833, t: 18.9, s: '广西', l: 12, m: '钦州', j: 108.6, h: '59632' },
        ],
      };

      const pointLayer = new L7.PointLayer({})
        .source(data.list, {
          parser: {
            type: 'json',
            x: 'j',
            y: 'w',
          },
        })
        .shape('dot')
        .size(15)
        .color('t', [
          '#094D4A',
          '#146968',
          '#1D7F7E',
          '#289899',
          '#34B6B7',
          '#4AC5AF',
          '#5FD3A6',
          '#7BE39E',
          '#A1EDB8',
          '#CEF8D6',
        ])
        .style({
          opacity: 1.0,
        });
      scene.addLayer(pointLayer);
    </script>
  </body>
</html>
