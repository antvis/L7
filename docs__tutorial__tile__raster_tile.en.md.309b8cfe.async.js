"use strict";(self.webpackChunk_antv_l7_site=self.webpackChunk_antv_l7_site||[]).push([[755],{89801:function(a,e,r){r.r(e);r(64996),r(94841),r(60761),r(95528),r(20694);var t=r(18468),n=(r(56311),r(80101),r(31875),r(46232)),s=r(96052),i=r(92379),l=r(74668),d=r(651);e.default=function(){return(0,d.jsx)(n.dY,{children:(0,d.jsx)(i.Suspense,{fallback:(0,d.jsx)(s.Z,{}),children:(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"markdown",children:[(0,d.jsx)("style",{dangerouslySetInnerHTML:{__html:"\n h3 { color: #873bf4; border-bottom: 1px solid #f0f0f0; margin: 1.2em 0 0.4em; } p { margin: 0.6em 0; } h4 { border-bottom: 1px solid #f0f0f0; }h4::before { content: '> '; opacity: 0.5; } "}}),(0,d.jsxs)("p",{children:[l.texts[0].value,(0,d.jsx)("code",{children:l.texts[1].value}),l.texts[2].value,(0,d.jsx)("code",{children:l.texts[3].value}),l.texts[4].value]}),(0,d.jsxs)("h3",{id:"draw-picture-raster---tms",children:[(0,d.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#draw-picture-raster---tms",children:(0,d.jsx)("span",{className:"icon icon-link"})}),"Draw picture raster - TMS"]}),(0,d.jsx)(t.Z,{lang:"javascript",children:l.texts[5].value}),(0,d.jsxs)("h3",{id:"draw-image-raster---wms",children:[(0,d.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#draw-image-raster---wms",children:(0,d.jsx)("span",{className:"icon icon-link"})}),"Draw image raster - WMS"]}),(0,d.jsx)(t.Z,{lang:"javascript",children:l.texts[6].value}),(0,d.jsxs)("h3",{id:"draw-picture-raster---wmts",children:[(0,d.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#draw-picture-raster---wmts",children:(0,d.jsx)("span",{className:"icon icon-link"})}),"Draw picture raster - WMTS"]}),(0,d.jsx)(t.Z,{lang:"javascript",children:l.texts[7].value}),(0,d.jsxs)("h3",{id:"draw-data-raster---arraybuffer",children:[(0,d.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#draw-data-raster---arraybuffer",children:(0,d.jsx)("span",{className:"icon icon-link"})}),"Draw data raster - arraybuffer"]}),(0,d.jsx)(t.Z,{lang:"javascript",children:l.texts[8].value}),(0,d.jsxs)("h3",{id:"plot-data-raster---rgb",children:[(0,d.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#plot-data-raster---rgb",children:(0,d.jsx)("span",{className:"icon icon-link"})}),"Plot data raster - rgb"]}),(0,d.jsx)(t.Z,{lang:"javascript",children:l.texts[9].value})]})})})})}},49578:function(a,e,r){r.d(e,{T:function(){return t.T}});var t=r(54614)},86957:function(a,e,r){r.d(e,{p:function(){return t.p}});var t=r(3691)},256:function(a,e,r){r.d(e,{G:function(){return t.G}});var t=r(91229)},15461:function(a,e,r){r.d(e,{S:function(){return t.S}});var t=r(53275)},74668:function(a,e,r){r.r(e),r.d(e,{texts:function(){return t}});const t=[{value:"Raster tile layers include image rasters and data rasters, where image rasters are usually loaded",paraId:0},{value:"png/jpg",paraId:0},{value:"Images, data rasters are loaded",paraId:0},{value:"tiff/lerc",paraId:0},{value:"and other raster data files.",paraId:0},{value:"// Image tile layer - satellite image\nconst layer = new RasterLayer().source(\n  'http://webst0{1-4}.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}',\n  {\n    parser: {\n      type: 'rasterTile',\n      updateStrategy: 'overlap',\n    },\n  },\n);\n",paraId:1,tocIndex:0},{value:"// Draw WMS format tiles\nconst url =\n  'https://pnr.sz.gov.cn/d-suplicmap/dynamap_1/rest/services/LAND_CERTAIN/MapServer/export?F=image&FORMAT=PNG32&TRANSPARENT=true&layers=show:1&SIZE=256,256&BBOX={bbox}&BBOXSR=4326&IMAGESR =3857&DPI=90';\n\nconst layer = new RasterLayer().source(url, {\n  parser: {\n    type: 'rasterTile',\n    tileSize: 256,\n    zoomOffset: 1,\n  },\n});\n",paraId:2,tocIndex:1},{value:"// Draw WMTS format tiles\nconst url1 = 'https://t0.tianditu.gov.cn/img_w/wmts?tk=b72aa81ac2b3cae941d1eb213499e15e&';\nconst layer1 = new RasterLayer().source(url1, {\n  parser: {\n    type: 'rasterTile',\n    tileSize: 256,\n    wmtsOptions: {\n      layer: 'img',\n      tileMatrixset: 'w',\n      format: 'tiles',\n    },\n  },\n});\n",paraId:3,tocIndex:2},{value:"const tileSource = new Source(\n  'https://ganos.oss-cn-hangzhou.aliyuncs.com/m2/l7/tiff_jx/{z}/{x}/{y}.tiff',\n  {\n    parser: {\n      type: 'rasterTile',\n      dataType: 'arraybuffer',\n      tileSize: 256,\n      maxZoom: 13.1,\n      format: async (data) => {\n        const tiff = await GeoTIFF.fromArrayBuffer(data);\n        const image = await tiff.getImage();\n        const width = image.getWidth();\n        const height = image.getHeight();\n        const values = await image.readRasters();\n        return { rasterData: values[0], width, height };\n      },\n    },\n  },\n);\n\nlayer.source(tileSource).style({\n  domain: [0.001, 11.001],\n  clampLow: false,\n  rampColors: {\n    colors: colorList,\n    positions,\n  },\n});\n",paraId:4,tocIndex:3},{value:"const url = 'https://gw.alipayobjects.com/zos/raptor/1667832825992/LC08_3857_clip_2.tif';\nconst tiffdata = await getTiffData(url);\nconst layer = new RasterLayer({ zIndex: 10 }).source(\n  [\n    {\n      data: tiffdata,\n      bands: [7, 6, 5].map((v) => v - 1),\n    },\n  ],\n  {\n    parser: {\n      type: 'rasterRgb',\n      format: async (data, bands) => {\n        const tiff = await GeoTIFF.fromArrayBuffer(data);\n        const image1 = await tiff.getImage();\n        const value = await image1.readRasters();\n        return bands.map((band) => {\n          return {\n            rasterData: value[band],\n            width: value.width,\n            height: value.height,\n          };\n        });\n      },\n      operation: 'rgb',\n      extent: [130.39565357746957, 46.905730725742366, 130.73364094187343, 47.10217234153133],\n    },\n  },\n);\n",paraId:5,tocIndex:4}]}}]);