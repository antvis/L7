"use strict";(self.webpackChunk_antv_l7_site=self.webpackChunk_antv_l7_site||[]).push([[755],{79761:function(e,a,t){t.r(a);t(35164),t(43801),t(6974),t(27068),t(12520);var r=t(7808),n=(t(19480),t(64700),t(12318),t(99500)),s=t(13273),i=t(92379),c=t(90331),l=t(651);a.default=function(){return(0,l.jsx)(n.dY,{children:(0,l.jsx)(i.Suspense,{fallback:(0,l.jsx)(s.Z,{}),children:(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"markdown",children:[(0,l.jsx)("style",{dangerouslySetInnerHTML:{__html:"\n h3 { color: #873bf4; border-bottom: 1px solid #f0f0f0; margin: 1.2em 0 0.4em; } p { margin: 0.6em 0; } h4 { border-bottom: 1px solid #f0f0f0; }h4::before { content: '> '; opacity: 0.5; } "}}),(0,l.jsxs)("p",{children:[c.texts[0].value,(0,l.jsx)("code",{children:c.texts[1].value}),c.texts[2].value,(0,l.jsx)("code",{children:c.texts[3].value}),c.texts[4].value]}),(0,l.jsxs)("h3",{id:"draw-picture-raster---tms",children:[(0,l.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#draw-picture-raster---tms",children:(0,l.jsx)("span",{className:"icon icon-link"})}),"Draw picture raster - TMS"]}),(0,l.jsx)(r.Z,{lang:"javascript",children:c.texts[5].value}),(0,l.jsxs)("h3",{id:"draw-image-raster---wms",children:[(0,l.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#draw-image-raster---wms",children:(0,l.jsx)("span",{className:"icon icon-link"})}),"Draw image raster - WMS"]}),(0,l.jsx)(r.Z,{lang:"javascript",children:c.texts[6].value}),(0,l.jsxs)("h3",{id:"draw-picture-raster---wmts",children:[(0,l.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#draw-picture-raster---wmts",children:(0,l.jsx)("span",{className:"icon icon-link"})}),"Draw picture raster - WMTS"]}),(0,l.jsx)(r.Z,{lang:"javascript",children:c.texts[7].value}),(0,l.jsxs)("h3",{id:"draw-data-raster---arraybuffer",children:[(0,l.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#draw-data-raster---arraybuffer",children:(0,l.jsx)("span",{className:"icon icon-link"})}),"Draw data raster - arraybuffer"]}),(0,l.jsx)(r.Z,{lang:"javascript",children:c.texts[8].value}),(0,l.jsxs)("h3",{id:"plot-data-raster---rgb",children:[(0,l.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#plot-data-raster---rgb",children:(0,l.jsx)("span",{className:"icon icon-link"})}),"Plot data raster - rgb"]}),(0,l.jsx)(r.Z,{lang:"javascript",children:c.texts[9].value})]})})})})}},53980:function(e,a,t){t.d(a,{G:function(){return u}});var r=t(97502),n=t(99500),s=(t(92379),"d8ttRdvsaeIwjsXPUrV3"),i="YWbojl5X0YI9jR8WQ6vF",c="nHrVcWv4dgQMNfb_O3dk",l="kLT5PvcX6twH_8KM1K4Y",o="HdNrro6Kmg0q9gTP4YLJ",d=t(651);var u=function(e){var a,t=e.isPlayground,u=e.exampleId,p=e.header,h=e.error;return(0,d.jsxs)("div",{className:s,children:[t?null:(0,d.jsx)("div",{className:i,children:p}),(0,d.jsxs)("div",{className:c,children:[(0,d.jsx)("div",{id:"playgroundScriptContainer_".concat(u),className:l}),h?(0,d.jsx)(r.ZP,{className:o,status:"error",title:(0,d.jsx)(n._H,{id:"演示代码报错，请检查"}),subTitle:(0,d.jsx)("pre",{children:(a=h,(a.reason?a.reason:a.message?a.message:a).toString())})}):null]})]})}},19298:function(e,a,t){t.d(a,{S:function(){return z}});var r=t(28633),n=t.n(r),s=t(5572),i=t(49377),c=t(23622),l=t(99500),o=t(35510),d=t(92379),u=t(4667),p=t(53980),h=t(8131),f=t(95913),m=t(32686),x=t(29318),g=t(52486),v=t(65879),j=t.n(v),w=t(72916),y=t(54014),b={},I=t(651),S=function(e){var a=e.title,t=e.relativePath,r=e.githubUrl,n=(0,l.WF)().themeConfig.relativePath;(0,y.KI)(),new(j())(location.href);return(0,I.jsx)(f.Z,{ghost:!1,title:a,subTitle:(0,I.jsx)(m.Z,{title:(0,I.jsx)(l._H,{id:"在 GitHub 上编辑"}),children:(0,I.jsx)("a",{href:function(e){var a=e.githubUrl,t=e.relativePath;e.prefix;return"".concat(a,"/edit/master/").concat(n,"/examples/").concat(t)}({githubUrl:r,relativePath:t,prefix:"examples"}),target:"_blank",rel:"noopener noreferrer",className:b.editOnGtiHubButton,children:(0,I.jsx)(h.Z,{})})}),extra:(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(x.Z,{split:(0,I.jsx)(g.Z,{type:"vertical"})}),(0,I.jsx)(w.Z,{})]})})},A=t(24325),Z=t.n(A),_=t(72725);function T(e,a,t,r){var n=function(e){var a=new Map;return(0,_.Z)(e,(function(e){(0,_.Z)(e.examples,(function(t){(0,_.Z)(t.demos,(function(r){a.set("".concat(e.id,"-").concat(t.id,"-").concat(r.id),Z()(Z()({},r),{},{relativePath:"".concat(e.id,"/").concat(t.id,"/demo/").concat(r.filename),targetExample:t,targetTopic:e}))}))}))})),a}(e);return n.get("".concat(a,"-").concat(t,"-").concat(r))}var z=function(e){var a=e.exampleTopics,t=e.topic,r=e.example,h=e.demo,f=e.size,m=e.replaceId,x=e.isPlayground,g=e.notFound,v=void 0===g?(0,I.jsx)(s.T,{}):g,j=T(a,t,r,h);if(!j)return v;var w=j.title,y=j.source,b=j.relativePath,A=(0,l.WF)().themeConfig,Z=A.githubUrl,_=A.playground,z=(0,d.useState)(),k=n()(z,2),N=k[0],P=k[1],R=(0,d.useState)(!1),D=n()(R,2),L=(D[0],D[1]),F=((0,l.bU)(),(0,I.jsx)(S,{title:(0,c.ic)(w),relativePath:b,githubUrl:Z})),M="".concat(t,"_").concat(r,"_").concat(h);return(0,I.jsxs)(u.Z,{split:"vertical",defaultSize:"".concat(100*(1-f),"%"),minSize:100,children:[(0,I.jsx)(p.G,{exampleId:M,error:N,header:F,isPlayground:x}),(0,I.jsx)(i.p,{exampleId:M,source:y,relativePath:b,replaceId:m,onError:P,onFullscreen:L,onDestroy:o.Z,onReady:o.Z,playground:_})]})}},72916:function(e,a,t){var r=t(35957),n=(t(92379),t(48229)),s=t(651),i=function(){return(0,s.jsx)("img",{width:16,style:{margin:"5px"},src:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*iDSwRorar_QAAAAAAAAAAAAADmJ7AQ/original",alt:"react 组件库"})};a.Z=function(e){e.readingTime;return(0,s.jsxs)("div",{style:{float:"right",display:"flex",gap:"10px"},children:[(0,s.jsx)(n.Z,{href:"https://github.com/antvis/L7/issues/new","data-icon":"octicon-issue-opened","data-size":"large","data-show-count":"true","aria-label":"Issue antvis/l7 on GitHub",children:"反馈问题"}),(0,s.jsx)(n.Z,{href:"https://github.com/antvis/l7","data-icon":"octicon-star","data-size":"large","data-show-count":"true","aria-label":"Star antvis/l7 on GitHub",children:"关注项目"}),(0,s.jsx)(r.Z,{icon:(0,s.jsx)(i,{}),style:{fontWeight:600,height:"30px",padding:"1px 6px"},target:"blank",href:"https://larkmap.antv.antgroup.com/components/lark-map",children:"React 组件库"})]})}},54014:function(e,a,t){function r(){for(var e=window.location.pathname.replace("/docs/","/").replace("/zh/","/").split("/"),a=[],t=e.length;t>0;t--){var r=e.slice(0,t);a.push(r.join("/"))}return a}function n(){var e=window.location.pathname;e=(e=e.replace("/zh/","/")).replace("/docs","");var a=window.location.pathname.startsWith("/en")?/(\/[A-z]*\/?\/[A-z]*)\/?/:/(\/[A-z]*)\/?/;return e.match(a)[1]}function s(e){var a=[],t=e[0];for(a.push(t.key);t.children;)t=t.children[0],a.push(t.key);return a[a.length-1]}function i(e,a,t){return e.includes("/docs/")||e.includes("/zh/")?e.replace("/docs/","/").replace("/zh/","/"):t.every((function(a){var t="".concat(a).toLowerCase();return![t,"".concat(t,"/")].includes(e.toLowerCase())}))?a:e}t.d(a,{Gd:function(){return i},KI:function(){return n},Xd:function(){return r},iX:function(){return s}})},90331:function(e,a,t){t.r(a),t.d(a,{texts:function(){return r}});const r=[{value:"Raster tile layers include image rasters and data rasters, where image rasters are usually loaded",paraId:0},{value:"png/jpg",paraId:0},{value:"Images, data rasters are loaded",paraId:0},{value:"tiff/lerc",paraId:0},{value:"and other raster data files.",paraId:0},{value:"// Image tile layer - satellite image\nconst layer = new RasterLayer().source(\n  'http://webst0{1-4}.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}',\n  {\n    parser: {\n      type: 'rasterTile',\n      updateStrategy: 'overlap',\n    },\n  },\n);\n",paraId:1,tocIndex:0},{value:"// Draw WMS format tiles\nconst url =\n  'https://pnr.sz.gov.cn/d-suplicmap/dynamap_1/rest/services/LAND_CERTAIN/MapServer/export?F=image&FORMAT=PNG32&TRANSPARENT=true&layers=show:1&SIZE=256,256&BBOX={bbox}&BBOXSR=4326&IMAGESR =3857&DPI=90';\n\nconst layer = new RasterLayer().source(url, {\n  parser: {\n    type: 'rasterTile',\n    tileSize: 256,\n    zoomOffset: 1,\n  },\n});\n",paraId:2,tocIndex:1},{value:"// Draw WMTS format tiles\nconst url1 = 'https://t0.tianditu.gov.cn/img_w/wmts?tk=b72aa81ac2b3cae941d1eb213499e15e&';\nconst layer1 = new RasterLayer().source(url1, {\n  parser: {\n    type: 'rasterTile',\n    tileSize: 256,\n    wmtsOptions: {\n      layer: 'img',\n      tileMatrixset: 'w',\n      format: 'tiles',\n    },\n  },\n});\n",paraId:3,tocIndex:2},{value:"const tileSource = new Source(\n  'https://ganos.oss-cn-hangzhou.aliyuncs.com/m2/l7/tiff_jx/{z}/{x}/{y}.tiff',\n  {\n    parser: {\n      type: 'rasterTile',\n      dataType: 'arraybuffer',\n      tileSize: 256,\n      maxZoom: 13.1,\n      format: async (data) => {\n        const tiff = await GeoTIFF.fromArrayBuffer(data);\n        const image = await tiff.getImage();\n        const width = image.getWidth();\n        const height = image.getHeight();\n        const values = await image.readRasters();\n        return { rasterData: values[0], width, height };\n      },\n    },\n  },\n);\n\nlayer.source(tileSource).style({\n  domain: [0.001, 11.001],\n  clampLow: false,\n  rampColors: {\n    colors: colorList,\n    positions,\n  },\n});\n",paraId:4,tocIndex:3},{value:"const url = 'https://gw.alipayobjects.com/zos/raptor/1667832825992/LC08_3857_clip_2.tif';\nconst tiffdata = await getTiffData(url);\nconst layer = new RasterLayer({ zIndex: 10 }).source(\n  [\n    {\n      data: tiffdata,\n      bands: [7, 6, 5].map((v) => v - 1),\n    },\n  ],\n  {\n    parser: {\n      type: 'rasterRgb',\n      format: async (data, bands) => {\n        const tiff = await GeoTIFF.fromArrayBuffer(data);\n        const image1 = await tiff.getImage();\n        const value = await image1.readRasters();\n        return bands.map((band) => {\n          return {\n            rasterData: value[band],\n            width: value.width,\n            height: value.height,\n          };\n        });\n      },\n      operation: 'rgb',\n      extent: [130.39565357746957, 46.905730725742366, 130.73364094187343, 47.10217234153133],\n    },\n  },\n);\n",paraId:5,tocIndex:4}]}}]);