"use strict";(self.webpackChunk_antv_l7_site=self.webpackChunk_antv_l7_site||[]).push([[5298],{42325:function(e,a,n){n.r(a);n(35164),n(43801),n(6974),n(27068),n(33574);var l=n(7808),t=n(19480),s=(n(97595),n(22593),n(99500)),r=n(13273),d=n(92379),c=n(42589),i=n(651);a.default=function(){return(0,i.jsx)(s.dY,{children:(0,i.jsx)(d.Suspense,{fallback:(0,i.jsx)(r.Z,{}),children:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"markdown",children:[(0,i.jsxs)("h3",{id:"source-数据",children:[(0,i.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#source-数据",children:(0,i.jsx)("span",{className:"icon icon-link"})}),"source 数据"]}),(0,i.jsxs)("p",{children:[c.texts[0].value,(0,i.jsx)("code",{children:c.texts[1].value}),c.texts[2].value]}),(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:c.texts[3].value}),(0,i.jsxs)("li",{children:[c.texts[4].value,(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:c.texts[5].value}),(0,i.jsx)("li",{children:c.texts[6].value})]})]})]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("code",{children:c.texts[7].value}),c.texts[8].value,(0,i.jsx)("code",{children:c.texts[9].value}),c.texts[10].value,(0,i.jsx)(s.rU,{to:"/api/source/source",children:c.texts[11].value}),c.texts[12].value]}),(0,i.jsx)(l.Z,{lang:"javascript",children:c.texts[13].value}),(0,i.jsxs)("h3",{id:"cluster",children:[(0,i.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#cluster",children:(0,i.jsx)("span",{className:"icon icon-link"})}),"cluster"]}),(0,i.jsxs)("p",{children:[c.texts[14].value,(0,i.jsx)("code",{children:c.texts[15].value}),c.texts[16].value]}),(0,i.jsxs)("h4",{id:"getclusterszoom-number-ifeaturecollection",children:[(0,i.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#getclusterszoom-number-ifeaturecollection",children:(0,i.jsx)("span",{className:"icon icon-link"})}),"getClusters(zoom: number): IFeatureCollection"]}),(0,i.jsx)("p",{children:c.texts[17].value}),(0,i.jsx)("ul",{children:(0,i.jsxs)("li",{children:[(0,i.jsx)("code",{children:c.texts[18].value}),c.texts[19].value]})}),(0,i.jsxs)("h4",{id:"getclustersleavesid-string-ifeaturecollection",children:[(0,i.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#getclustersleavesid-string-ifeaturecollection",children:(0,i.jsx)("span",{className:"icon icon-link"})}),"getClustersLeaves(id: string): IFeatureCollection"]}),(0,i.jsxs)("p",{children:[c.texts[20].value,(0,i.jsx)("code",{children:c.texts[21].value}),c.texts[22].value,(0,i.jsx)("code",{children:c.texts[23].value}),c.texts[24].value]}),(0,i.jsx)("ul",{children:(0,i.jsxs)("li",{children:[(0,i.jsx)("code",{children:c.texts[25].value}),c.texts[26].value,(0,i.jsx)("code",{children:c.texts[27].value})]})}),(0,i.jsx)(l.Z,{lang:"ts",children:c.texts[28].value}),(0,i.jsxs)("h2",{id:"scale-数据度量",children:[(0,i.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#scale-数据度量",children:(0,i.jsx)("span",{className:"icon icon-link"})}),"scale 数据度量"]}),(0,i.jsx)("p",{children:c.texts[29].value}),(0,i.jsx)("p",{children:c.texts[30].value}),(0,i.jsx)("p",{children:c.texts[31].value}),(0,i.jsx)("p",{children:c.texts[32].value}),(0,i.jsx)("p",{children:c.texts[33].value}),(0,i.jsx)("p",{children:c.texts[34].value}),(0,i.jsx)("p",{children:c.texts[35].value}),(0,i.jsxs)("h3",{id:"scale",children:[(0,i.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#scale",children:(0,i.jsx)("span",{className:"icon icon-link"})}),"scale"]}),(0,i.jsx)("p",{children:(0,i.jsx)("a",{href:"https://mp.weixin.qq.com/s/QyD1_ypu0PDwMxEz45v6Jg",children:c.texts[36].value})}),(0,i.jsx)("p",{children:c.texts[37].value}),(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{children:[(0,i.jsx)("code",{children:c.texts[38].value}),c.texts[39].value]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("code",{children:c.texts[40].value}),c.texts[41].value,(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:c.texts[42].value}),(0,i.jsx)("li",{children:c.texts[43].value}),(0,i.jsx)("li",{children:c.texts[44].value})]})]})]}),(0,i.jsx)(l.Z,{lang:"javascript",children:c.texts[45].value}),(0,i.jsxs)("h4",{id:"类型",children:[(0,i.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#类型",children:(0,i.jsx)("span",{className:"icon icon-link"})}),"类型"]}),(0,i.jsx)("p",{children:c.texts[46].value}),(0,i.jsx)("p",{children:c.texts[47].value}),(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:c.texts[48].value}),(0,i.jsx)("li",{children:c.texts[49].value})]}),(0,i.jsxs)(t.Z,{children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:c.texts[50].value}),(0,i.jsx)("th",{children:c.texts[51].value})]})}),(0,i.jsxs)("tbody",{children:[(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:c.texts[52].value}),(0,i.jsx)("td",{children:c.texts[53].value})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:c.texts[54].value}),(0,i.jsx)("td",{children:c.texts[55].value})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:c.texts[56].value}),(0,i.jsx)("td",{children:c.texts[57].value})]})]})]}),(0,i.jsxs)("h4",{id:"cat",children:[(0,i.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#cat",children:(0,i.jsx)("span",{className:"icon icon-link"})}),"Cat"]}),(0,i.jsx)("p",{children:c.texts[58].value}),(0,i.jsx)(l.Z,{lang:"js",children:c.texts[59].value}),(0,i.jsxs)("h4",{id:"identify",children:[(0,i.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#identify",children:(0,i.jsx)("span",{className:"icon icon-link"})}),"identify"]}),(0,i.jsx)("p",{children:c.texts[60].value}),(0,i.jsx)(l.Z,{children:c.texts[61].value}),(0,i.jsxs)("h4",{id:"linear",children:[(0,i.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#linear",children:(0,i.jsx)("span",{className:"icon icon-link"})}),"linear"]}),(0,i.jsx)("p",{children:c.texts[62].value}),(0,i.jsxs)("h4",{id:"quantize",children:[(0,i.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#quantize",children:(0,i.jsx)("span",{className:"icon icon-link"})}),"quantize"]}),(0,i.jsx)("p",{children:c.texts[63].value}),(0,i.jsxs)("h4",{id:"quantile",children:[(0,i.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#quantile",children:(0,i.jsx)("span",{className:"icon icon-link"})}),"quantile"]}),(0,i.jsx)("p",{children:c.texts[64].value}),(0,i.jsxs)("h4",{id:"threshold",children:[(0,i.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#threshold",children:(0,i.jsx)("span",{className:"icon icon-link"})}),"threshold"]}),(0,i.jsx)("p",{children:c.texts[65].value}),(0,i.jsx)("p",{children:c.texts[66].value}),(0,i.jsx)(l.Z,{children:c.texts[67].value}),(0,i.jsxs)("h4",{id:"diverging",children:[(0,i.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#diverging",children:(0,i.jsx)("span",{className:"icon icon-link"})}),"diverging"]}),(0,i.jsx)("p",{children:c.texts[68].value}),(0,i.jsxs)("h3",{id:"getscalescalenamestring",children:[(0,i.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#getscalescalenamestring",children:(0,i.jsx)("span",{className:"icon icon-link"})}),"getScale(scaleName:string)"]}),(0,i.jsx)("p",{children:c.texts[69].value}),(0,i.jsx)(l.Z,{lang:"ts",children:c.texts[70].value}),(0,i.jsxs)("p",{children:[c.texts[71].value,(0,i.jsx)("a",{target:"_blank",href:"https://github.com/antvis/L7/blob/master/packages/layers/src/core/BaseLayer.ts#L1176",children:c.texts[72].value})]}),(0,i.jsxs)("h2",{id:"视觉编码方法",children:[(0,i.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#视觉编码方法",children:(0,i.jsx)("span",{className:"icon icon-link"})}),"视觉编码方法"]}),(0,i.jsx)("p",{children:c.texts[73].value}),(0,i.jsx)("img",{width:"100%",style:{display:"block",margin:"0 auto"},alt:"案例",src:"https://gw.alipayobjects.com/mdn/rms_816329/afts/img/A*PzoTRJnY-fIAAAAAAAAAAAAAARQnAQ"}),(0,i.jsxs)("h3",{id:"filter",children:[(0,i.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#filter",children:(0,i.jsx)("span",{className:"icon icon-link"})}),"filter"]}),(0,i.jsx)("p",{children:c.texts[74].value}),(0,i.jsx)(l.Z,{lang:"ts",children:c.texts[75].value}),(0,i.jsxs)("h3",{id:"size",children:[(0,i.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#size",children:(0,i.jsx)("span",{className:"icon icon-link"})}),"size"]}),(0,i.jsx)("p",{children:c.texts[76].value}),(0,i.jsx)(l.Z,{lang:"javascript",children:c.texts[77].value}),(0,i.jsxs)("h4",{id:"sizevalue",children:[(0,i.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#sizevalue",children:(0,i.jsx)("span",{className:"icon icon-link"})}),"size(value）"]}),(0,i.jsxs)("p",{children:[c.texts[78].value,(0,i.jsx)("code",{children:c.texts[79].value})]}),(0,i.jsxs)("h4",{id:"sizefield",children:[(0,i.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#sizefield",children:(0,i.jsx)("span",{className:"icon icon-link"})}),"size(field)"]}),(0,i.jsxs)("p",{children:[c.texts[80].value,(0,i.jsx)("code",{children:c.texts[81].value}),c.texts[82].value,(0,i.jsx)("code",{children:c.texts[83].value}),c.texts[84].value]}),(0,i.jsxs)("h4",{id:"sizefield-callback",children:[(0,i.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#sizefield-callback",children:(0,i.jsx)("span",{className:"icon icon-link"})}),"size(field, callback)"]}),(0,i.jsx)("p",{children:c.texts[85].value}),(0,i.jsx)("ul",{children:(0,i.jsxs)("li",{children:[(0,i.jsx)("code",{children:c.texts[86].value}),c.texts[87].value]})}),(0,i.jsx)(l.Z,{lang:"javascript",children:c.texts[88].value}),(0,i.jsxs)("h3",{id:"color",children:[(0,i.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#color",children:(0,i.jsx)("span",{className:"icon icon-link"})}),"color"]}),(0,i.jsx)("p",{children:c.texts[89].value}),(0,i.jsx)(l.Z,{lang:"javascript",children:c.texts[90].value}),(0,i.jsxs)("h4",{id:"colorvalue",children:[(0,i.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#colorvalue",children:(0,i.jsx)("span",{className:"icon icon-link"})}),"color(value)"]}),(0,i.jsxs)("p",{children:[c.texts[91].value,(0,i.jsx)("code",{children:c.texts[92].value}),c.texts[93].value]}),(0,i.jsx)("p",{children:c.texts[94].value}),(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)("p",{children:c.texts[95].value})}),(0,i.jsx)("li",{children:(0,i.jsx)("p",{children:c.texts[96].value})})]}),(0,i.jsx)("p",{children:c.texts[97].value}),(0,i.jsx)("p",{children:c.texts[98].value}),(0,i.jsx)(l.Z,{lang:"javascript",children:c.texts[99].value}),(0,i.jsxs)("h4",{id:"colorfield-colors",children:[(0,i.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#colorfield-colors",children:(0,i.jsx)("span",{className:"icon icon-link"})}),"color(field, colors)"]}),(0,i.jsx)("p",{children:c.texts[100].value}),(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsxs)("p",{children:[(0,i.jsx)("code",{children:c.texts[101].value}),c.texts[102].value]})}),(0,i.jsx)("li",{children:(0,i.jsxs)("p",{children:[(0,i.jsx)("code",{children:c.texts[103].value}),c.texts[104].value]})})]}),(0,i.jsx)("p",{children:c.texts[105].value}),(0,i.jsx)(l.Z,{lang:"javascript",children:c.texts[106].value}),(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:c.texts[107].value})}),(0,i.jsx)(l.Z,{lang:"javascript",children:c.texts[108].value}),(0,i.jsxs)("h3",{id:"shape",children:[(0,i.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#shape",children:(0,i.jsx)("span",{className:"icon icon-link"})}),"shape"]}),(0,i.jsx)("p",{children:c.texts[109].value}),(0,i.jsx)(l.Z,{lang:"javascript",children:c.texts[110].value}),(0,i.jsx)("img",{width:"60%",style:{display:"block",margin:"0 auto"},alt:"案例",src:"https://gw.alipayobjects.com/mdn/antv_site/afts/img/A*iN0nTYRDd3AAAAAAAAAAAABkARQnAQ"}),(0,i.jsx)("p",{children:(0,i.jsx)("strong",{children:c.texts[111].value})}),(0,i.jsxs)("p",{children:[c.texts[112].value,(0,i.jsx)("code",{children:c.texts[113].value}),c.texts[114].value]}),(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:c.texts[115].value})}),(0,i.jsxs)(t.Z,{children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:c.texts[116].value}),(0,i.jsx)("th",{children:c.texts[117].value}),(0,i.jsx)("th",{children:c.texts[118].value})]})}),(0,i.jsxs)("tbody",{children:[(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:c.texts[119].value}),(0,i.jsx)("td",{children:c.texts[120].value}),(0,i.jsx)("td",{})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:c.texts[121].value}),(0,i.jsx)("td",{children:c.texts[122].value}),(0,i.jsx)("td",{})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:c.texts[123].value}),(0,i.jsx)("td",{children:c.texts[124].value}),(0,i.jsx)("td",{})]})]})]}),(0,i.jsx)("p",{children:(0,i.jsx)("strong",{children:c.texts[125].value})}),(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:c.texts[126].value})}),(0,i.jsx)(l.Z,{lang:"javascript",children:c.texts[127].value}),(0,i.jsx)("img",{width:"60%",style:{display:"block",margin:"0 auto"},alt:"案例",src:"https://gw.alipayobjects.com/mdn/antv_site/afts/img/A*oVyHT5S3sv0AAAAAAAAAAABkARQnAQ"})]}),(0,i.jsx)(s.rU,{to:"/examples/point/image#image",children:c.texts[128].value}),(0,i.jsxs)("div",{className:"markdown",children:[(0,i.jsx)("p",{children:(0,i.jsx)("strong",{children:c.texts[129].value})}),(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:c.texts[130].value})}),(0,i.jsx)(l.Z,{lang:"javascript",children:c.texts[131].value})]})]})})})}},23832:function(e,a,n){n.d(a,{T:function(){return l.T}});var l=n(87575)},90779:function(e,a,n){n.d(a,{p:function(){return l.p}});var l=n(25441)},41102:function(e,a,n){n.d(a,{G:function(){return l.G}});var l=n(4481)},3088:function(e,a,n){n.d(a,{S:function(){return l.S}});var l=n(74284)},42589:function(e,a,n){n.r(a),n.d(a,{texts:function(){return l}});const l=[{value:"设置图层数据以及解析配置 ",paraId:0,tocIndex:0},{value:"source(data, config)",paraId:0,tocIndex:0},{value:"。",paraId:0,tocIndex:0},{value:"data { geojson | json | csv }",paraId:1,tocIndex:0},{value:"config   可选   数据源配置项\n",paraId:1,tocIndex:0},{value:"parser 数据解析，默认是解析层 geojson",paraId:2,tocIndex:0},{value:"transforms [transform，transform ]  数据处理转换可设置多个",paraId:2,tocIndex:0},{value:"parser",paraId:3,tocIndex:0},{value:" 和  ",paraId:3,tocIndex:0},{value:"transforms",paraId:3,tocIndex:0},{value:" ",paraId:3,tocIndex:0},{value:"见 source 文档",paraId:4,tocIndex:0},{value:"。",paraId:3,tocIndex:0},{value:"layer.source(data, {\n  parser: {\n    type: 'csv',\n    x: 'lng',\n    y: 'lat',\n  },\n  transforms: [\n    {\n      type: 'map',\n      callback: function (item) {\n        const [x, y] = item.coordinates;\n        item.lat = item.lat * 1;\n        item.lng = item.lng * 1;\n        item.v = item.v * 1;\n        item.coordinates = [x * 1, y * 1];\n        return item;\n      },\n    },\n    {\n      type: 'hexagon',\n      size: 6000,\n      field: 'v',\n      method: 'sum',\n    },\n  ],\n});\n",paraId:5,tocIndex:0},{value:"我们在使用 ",paraId:6,tocIndex:1},{value:"cluster",paraId:6,tocIndex:1},{value:" 配置聚合图之后就可以使用一些聚合方法来获取对应参数。",paraId:6,tocIndex:1},{value:"获取指定缩放等级的聚合数据",paraId:7,tocIndex:2},{value:"zoom",paraId:8,tocIndex:2},{value:" 缩放等级",paraId:8,tocIndex:2},{value:"根据 ",paraId:9,tocIndex:3},{value:"id",paraId:9,tocIndex:3},{value:" 获取聚合节点的数据，每个聚合节点会有一个唯一 ",paraId:9,tocIndex:3},{value:"ID",paraId:9,tocIndex:3},{value:"。",paraId:9,tocIndex:3},{value:"id",paraId:10,tocIndex:3},{value:" 聚合节点的 ",paraId:10,tocIndex:3},{value:"id",paraId:10,tocIndex:3},{value:"const source = layer.getSource();\nsource.getClustersLeaves(id);\nlayer.on('click', (e) => {\n  console.log(source.getClustersLeaves(e.feature.cluster_id));\n});\n",paraId:11,tocIndex:3},{value:"Scale 度量是将地图数据值（数字、日期、类别等数据）转成视觉值（颜色、大小、形状）。尺度 Scale 是数据可视化的基本组成部分，因为它们决定了视觉编码的性质。 L7 目前支持连续、离散、枚举类型数据的Scale，并支持位置、形状、大小和颜色编码的映射。",paraId:12,tocIndex:4},{value:"在使用 L7 过程中，默认情况下不需要进行 Scale 的配置，因为 L7 会根据数据类型对 scale 推断，推断过程如下：",paraId:13,tocIndex:4},{value:"查看用户是否设置了 Scale，如果没有:",paraId:14,tocIndex:4},{value:"判断字段的第一条数据的字段类型，如果数据中不存在对应的字段：",paraId:15,tocIndex:4},{value:"认为是常量为固定值",paraId:16,tocIndex:4},{value:"如果是数字则为 'linear';",paraId:17,tocIndex:4},{value:"如果是字符串类型 'cat';",paraId:18,tocIndex:4},{value:"Scale 详细介绍",paraId:19,tocIndex:5},{value:"参数： (field: string, scaleOptions: IscaleOptions)",paraId:20,tocIndex:5},{value:"field",paraId:21,tocIndex:5},{value:" 指定 source 中传入的数据中用于映射的字段名",paraId:21,tocIndex:5},{value:"scaleOptions",paraId:21,tocIndex:5},{value:" 列定义配置，对象类型\n",paraId:21,tocIndex:5},{value:"type scale 类型",paraId:22,tocIndex:5},{value:"unknown 未匹配颜色 可选 默认透明",paraId:22,tocIndex:5},{value:"domain 值域 可选",paraId:22,tocIndex:5},{value:"interface IscaleOptions {\n  type: ScaleTypeName;\n  domain?: any[];\n  ...\n}\n\nlayer.color('id', ['#f00', '#ff0'])\n.size('mag', [1, 80])\n.scale('mag', {\n  type: 'linear',\n  domain: [ 1, 50]\n})；\n",paraId:23,tocIndex:5},{value:"Range 和 domain 是 Scale 中非常重要的两个参数",paraId:24,tocIndex:6},{value:"domain: 地图数据值的定义区间\nrange：视觉值的区间\n不同Scale 的差异在于 domain->range 的转换方法的不同",paraId:25,tocIndex:6},{value:"domain: 地图数据值的定义区间",paraId:26,tocIndex:6},{value:"range：视觉值的区间定义",paraId:26,tocIndex:6},{value:"数据类",paraId:27,tocIndex:6},{value:"度量类型",paraId:27,tocIndex:6},{value:"连续",paraId:27,tocIndex:6},{value:"linear、log、pow",paraId:27,tocIndex:6},{value:"连续分类",paraId:27,tocIndex:6},{value:"quantize quantile,threshold,diverging",paraId:27,tocIndex:6},{value:"分类 枚举",paraId:27,tocIndex:6},{value:"cat",paraId:27,tocIndex:6},{value:"Cat 指枚举类型，用于展示分类数据，比如农作物种植区分布图，水稻、玉米、大豆等不同类别需要映射为不同的颜色。",paraId:28,tocIndex:7},{value:"// 三种作物会分别转成对应的颜色\n// domain = ['corn','rice', 'soybean'];\n// range = ['red','white','blue'];\nconst data = [\n  { lng: 120, lat: 30, t: 'corn' },\n  { lng: 121, lat: 30, t: 'rice' },\n  { lng: 122, lat: 30, t: 'soybean' },\n];\nlayer.source(data, {\n  parser: {\n    type: 'type',\n    x: 'lng',\n    y: 'lat',\n  },\n});\nlayer.scale('t', { type: 'cat' });\nlayer.color('t', ['red', 'white', 'blue']);\n",paraId:29,tocIndex:7},{value:"数据值和映射值相同\n比如数据中value 字段记录了每个要素的颜色，数值既为要映射的结果值s",paraId:30,tocIndex:8},{value:"// 设置为 identify\nlayer.scale('value', { type: 'identify' });\n\n// 或者\n\nlayer.scale('value'); // L7  能够自动推断为  identify\n\n",paraId:31,tocIndex:8},{value:"线性是连续数据的映射方法，数据和视觉值是通过线性方法换算的。如数据值 1-100 线性映射到红到蓝的线下渐变色每个数字对应一个颜色",paraId:32,tocIndex:9},{value:"相等间隔会将属性值的范围划分为若干个大小相等的子范围。相等间隔最适用于常见的数据范围，如百分比和温度。这种方法强调的是某个属性值相对于其他值的量",paraId:33,tocIndex:10},{value:"每个类都含有相等数量的要素。分位数分类非常适用于呈线性分布的数据。分位数为每个类分配数量相等的数据值。不存在空类，也不存在值过多或过少的类。\n由于使用“分位数”分类将要素以同等数量分组到每个类中，因此得到的地图往往具有误导性。可能会将相似的要素置于相邻的类中，或将值差异较大的要素置于相同类中。可通过增加类的数量将这种失真降至最低。",paraId:34,tocIndex:11},{value:"他允许将域的任意子集（非统一段）映射到范围内的离散值。输入域仍然是连续的，并根据提供给域属性的一组阈值划分为多个切片。 range 属性必须有 N+1 个元素，其中 N 是域中提供的阈值边界数",paraId:35,tocIndex:12},{value:"手动设置间隔 Manual interval 手动设置分级分类区间，某些数据会有相应的业界标准，或者需要进行某种特殊的显示。如空气质量数据有严格数据分段标准",paraId:36,tocIndex:12},{value:'-1   => "red"\n0    => "white"\n0.5  => "white"\n1.0  => "blue"\n1000 => "blue\n\n',paraId:37,tocIndex:12},{value:"离散分类通常与两种相反的色调一起使用，以显示从负值到中心到正值的变化。这些类型的地图显示了彼此相关的值的大小。",paraId:38,tocIndex:13},{value:"根据视觉通道名称获取 scale 实例,调用之前确保 layer 已经初始化完成",paraId:39,tocIndex:14},{value:"const scale = layer.getScale('color');\nconst color = scale(1); // 将数值转换成颜色\n",paraId:40,tocIndex:14},{value:"更多是方法\n",paraId:41,tocIndex:14},{value:"scale 示例使用",paraId:41,tocIndex:14},{value:"可视化编码是将数据转换为可视形式的过程，L7 目前支持形状，大小，颜色 3 种视觉通道，你可以指定数据字段，为不同要素设置不同的图形属性。",paraId:42,tocIndex:15},{value:"数据过滤方法,支持回调函数，将数据映射为true | false, 结果为true 时可见",paraId:43,tocIndex:16},{value:"pointLayer.filter('type', (type) => {\n  // 回调函数\n  if (type === 'a') {\n    return false;\n  }\n  return true;\n});\n",paraId:44,tocIndex:16},{value:"将数据值映射到图形的大小上的方法，size 方法具体的参数使用可以查看对应图层的详细文档",paraId:45,tocIndex:17},{value:"pointLayer.size(10); // 常量\npointLayer.size('type'); // 使用字段映射到大小\npointLayer.size('type', [0, 10]); // 使用字段映射到大小，并指定最大值和最小值\npointLayer.size('type', (type) => {\n  // 回调函数\n  if (type === 'a') {\n    return 10;\n  }\n  return 5;\n});\n",paraId:46,tocIndex:17},{value:"传入数字常量，如  ",paraId:47,tocIndex:18},{value:"pointLayer.size(20)",paraId:47,tocIndex:18},{value:"根据 field 字段的值映射大小，使用默认的",paraId:48,tocIndex:19},{value:"最大值 max:10",paraId:48,tocIndex:19},{value:"  和",paraId:48,tocIndex:19},{value:"最小值 min: 1",paraId:48,tocIndex:19},{value:"。",paraId:48,tocIndex:19},{value:"使用回调函数控制图形大小。",paraId:49,tocIndex:20},{value:"callback",paraId:50,tocIndex:20},{value:": function 回调函数。",paraId:50,tocIndex:20},{value:"pointLayer.size('age', (value) => {\n  if (value === 1) {\n    return 5;\n  }\n  return 10;\n});\n",paraId:51,tocIndex:20},{value:"将数据值映射到图形的颜色上的方法。",paraId:52,tocIndex:21},{value:"layer.color('red'); // 常量颜色\nlayer.color('type'); // 对 type 字段进行映射，使用内置的颜色\nlayer.color('type', ['red', 'blue']); // 指定颜色\nlayer.color('type', (type) => {\n  // 通过回调函数\n  if (type === 'a') {\n    return 'red';\n  }\n  return 'blue';\n});\nlayer.color('type*value', (type, value) => {\n  //多个参数，通过回调函数\n  if (type === 'a' && value > 100) {\n    return 'red';\n  }\n  return 'blue';\n});\n",paraId:53,tocIndex:21},{value:"参数：",paraId:54,tocIndex:22},{value:"value",paraId:54,tocIndex:22},{value:" ：string",paraId:54,tocIndex:22},{value:"只支持接收一个参数，value 可以是：",paraId:55,tocIndex:22},{value:"映射至颜色属性的数据源字段名，如果数据源中不存在这个字段名的话，则按照常量进行解析，这个时候会使用 L7 默认提供的颜色。",paraId:56,tocIndex:22},{value:"也可以直接指定某一个具体的颜色值 color，如 '#fff', 'white','rgba(255,0,0,0.5)' ,rgb(255,0,1) 等。",paraId:57,tocIndex:22},{value:"如果数据为映射到颜色，默认为透明色不显示，如果需要设置该颜色，需要在scale 中设置",paraId:58,tocIndex:22},{value:"示例",paraId:59,tocIndex:22},{value:"layer.color('name'); // 映射数据字段\nlayer.color('white'); // 指定颜色\n",paraId:60,tocIndex:22},{value:"参数：",paraId:61,tocIndex:23},{value:"field",paraId:62,tocIndex:23},{value:": stringfield 为映射至颜色属性的数据源字段名，也支持指定多个参数。",paraId:62,tocIndex:23},{value:"colors",paraId:63,tocIndex:23},{value:": string | array | function",paraId:63,tocIndex:23},{value:"colors 的参数有以下情况：  如果为空，即未指定颜色的数组，那么使用内置的全局的颜色；如果需要指定颜色，则需要以数组格式传入，那么分类的颜色按照数组中的颜色确定。",paraId:64,tocIndex:23},{value:"layer.scale('name',{\n  type:'quantile'\n  unknown:'#ccc' // 设置无效颜色\n})\nlayer.color('name'); // 使用identity\nlayer.color('name', ['red', 'blue']); // 使用传入的指定颜色\n",paraId:65,tocIndex:23},{value:"colors 如果是回调函数，则该回调函数的参数为对应字段的数值，具体使用如下，当 color 映射为多个字段时，参数按照字段声明的顺序传入：",paraId:66,tocIndex:23},{value:"layer.color('gender', (value) => {\n  if (value === 1) {\n    return 'red';\n  }\n  return 'blue';\n});\nlayer.color('gender*age', (gender, age) => {\n  if (age === 20 && gender == ' 男') {\n    return 'red';\n  }\n  return 'blue';\n});\n",paraId:67,tocIndex:23},{value:"通常一种图层可以有多种表现形式，shape 方法用于指定图层具体的表现形式，以 PointLayer 的 shape 为例：",paraId:68,tocIndex:24},{value:"shape('circle'); // 圆形\nshape('triangle'); // 三角形\nshape('cylinder'); // 圆柱\n",paraId:69,tocIndex:24},{value:"shape(shape)",paraId:70,tocIndex:24},{value:"参数 ",paraId:71,tocIndex:24},{value:"shape",paraId:71,tocIndex:24},{value:" string",paraId:71,tocIndex:24},{value:"只支持接收一个参数，指定几何图像对象绘制的形状。下表列出了不同的 图层 几何图形对象支持的 shape 形状",paraId:72,tocIndex:24},{value:"layer 类型",paraId:73,tocIndex:24},{value:"shape 类型",paraId:73,tocIndex:24},{value:"备注",paraId:73,tocIndex:24},{value:"point",paraId:73,tocIndex:24},{value:"2d:point,circle, square, triangle,hexagon,image,text 3d:circle,triangle,hexagon,square",paraId:73,tocIndex:24},{value:"line",paraId:73,tocIndex:24},{value:"line,arc, arc3d, greatcircle",paraId:73,tocIndex:24},{value:"polygon",paraId:73,tocIndex:24},{value:"fill,line, extrude",paraId:73,tocIndex:24},{value:"shape(field, shapes)",paraId:74,tocIndex:24},{value:"shape 根据字段指定行形状，比如根据字段指定 PointLayer/imageLayer 的 icon 类型",paraId:75,tocIndex:24},{value:"scene.addImage(\n  '00',\n  'https://gw.alipayobjects.com/zos/basement_prod/604b5e7f-309e-40db-b95b-4fac746c5153.svg',\n);\nscene.addImage(\n  '01',\n  'https://gw.alipayobjects.com/zos/basement_prod/30580bc9-506f-4438-8c1a-744e082054ec.svg',\n);\nscene.addImage(\n  '02',\n  'https://gw.alipayobjects.com/zos/basement_prod/7aa1f460-9f9f-499f-afdf-13424aa26bbf.svg',\n);\nconst imageLayer = new PointLayer()\n  .source(data, {\n    parser: {\n      type: 'json',\n      x: 'longitude',\n      y: 'latitude',\n    },\n  })\n  .shape('name', ['00', '01', '02'])\n  .size(20);\nscene.addLayer(imageLayer);\n",paraId:76,tocIndex:24},{value:"在线案例",paraId:77},{value:"shape(field, callback)",paraId:78},{value:"shape 也支持回调函数的写法",paraId:79},{value:".shape('key', value => {\n  if(value > 10) {\n    return 'circle';\n  } else {\n    return 'triangle';\n  }\n}\n",paraId:80}]}}]);